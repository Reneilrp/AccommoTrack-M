{"version":3,"file":"pusher-js.js","names":["module","exports","key","b","Coder","URLSafeCoder","prefix","l","keys","values","document","state","transports","options"],"sources":["../../node_modules/pusher-js/dist/web/pusher.js"],"sourcesContent":["/*!\n * Pusher JavaScript Library v8.4.0\n * https://pusher.com/\n *\n * Copyright 2020, Pusher\n * Released under the MIT licence.\n */\n\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Pusher\"] = factory();\n\telse\n\t\troot[\"Pusher\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Package base64 implements Base64 encoding and decoding.\n */\n// Invalid character used in decoding to indicate\n// that the character to decode is out of range of\n// alphabet and cannot be decoded.\nvar INVALID_BYTE = 256;\n/**\n * Implements standard Base64 encoding.\n *\n * Operates in constant time.\n */\nvar Coder = /** @class */ (function () {\n    // TODO(dchest): methods to encode chunk-by-chunk.\n    function Coder(_paddingCharacter) {\n        if (_paddingCharacter === void 0) { _paddingCharacter = \"=\"; }\n        this._paddingCharacter = _paddingCharacter;\n    }\n    Coder.prototype.encodedLength = function (length) {\n        if (!this._paddingCharacter) {\n            return (length * 8 + 5) / 6 | 0;\n        }\n        return (length + 2) / 3 * 4 | 0;\n    };\n    Coder.prototype.encode = function (data) {\n        var out = \"\";\n        var i = 0;\n        for (; i < data.length - 2; i += 3) {\n            var c = (data[i] << 16) | (data[i + 1] << 8) | (data[i + 2]);\n            out += this._encodeByte((c >>> 3 * 6) & 63);\n            out += this._encodeByte((c >>> 2 * 6) & 63);\n            out += this._encodeByte((c >>> 1 * 6) & 63);\n            out += this._encodeByte((c >>> 0 * 6) & 63);\n        }\n        var left = data.length - i;\n        if (left > 0) {\n            var c = (data[i] << 16) | (left === 2 ? data[i + 1] << 8 : 0);\n            out += this._encodeByte((c >>> 3 * 6) & 63);\n            out += this._encodeByte((c >>> 2 * 6) & 63);\n            if (left === 2) {\n                out += this._encodeByte((c >>> 1 * 6) & 63);\n            }\n            else {\n                out += this._paddingCharacter || \"\";\n            }\n            out += this._paddingCharacter || \"\";\n        }\n        return out;\n    };\n    Coder.prototype.maxDecodedLength = function (length) {\n        if (!this._paddingCharacter) {\n            return (length * 6 + 7) / 8 | 0;\n        }\n        return length / 4 * 3 | 0;\n    };\n    Coder.prototype.decodedLength = function (s) {\n        return this.maxDecodedLength(s.length - this._getPaddingLength(s));\n    };\n    Coder.prototype.decode = function (s) {\n        if (s.length === 0) {\n            return new Uint8Array(0);\n        }\n        var paddingLength = this._getPaddingLength(s);\n        var length = s.length - paddingLength;\n        var out = new Uint8Array(this.maxDecodedLength(length));\n        var op = 0;\n        var i = 0;\n        var haveBad = 0;\n        var v0 = 0, v1 = 0, v2 = 0, v3 = 0;\n        for (; i < length - 4; i += 4) {\n            v0 = this._decodeChar(s.charCodeAt(i + 0));\n            v1 = this._decodeChar(s.charCodeAt(i + 1));\n            v2 = this._decodeChar(s.charCodeAt(i + 2));\n            v3 = this._decodeChar(s.charCodeAt(i + 3));\n            out[op++] = (v0 << 2) | (v1 >>> 4);\n            out[op++] = (v1 << 4) | (v2 >>> 2);\n            out[op++] = (v2 << 6) | v3;\n            haveBad |= v0 & INVALID_BYTE;\n            haveBad |= v1 & INVALID_BYTE;\n            haveBad |= v2 & INVALID_BYTE;\n            haveBad |= v3 & INVALID_BYTE;\n        }\n        if (i < length - 1) {\n            v0 = this._decodeChar(s.charCodeAt(i));\n            v1 = this._decodeChar(s.charCodeAt(i + 1));\n            out[op++] = (v0 << 2) | (v1 >>> 4);\n            haveBad |= v0 & INVALID_BYTE;\n            haveBad |= v1 & INVALID_BYTE;\n        }\n        if (i < length - 2) {\n            v2 = this._decodeChar(s.charCodeAt(i + 2));\n            out[op++] = (v1 << 4) | (v2 >>> 2);\n            haveBad |= v2 & INVALID_BYTE;\n        }\n        if (i < length - 3) {\n            v3 = this._decodeChar(s.charCodeAt(i + 3));\n            out[op++] = (v2 << 6) | v3;\n            haveBad |= v3 & INVALID_BYTE;\n        }\n        if (haveBad !== 0) {\n            throw new Error(\"Base64Coder: incorrect characters for decoding\");\n        }\n        return out;\n    };\n    // Standard encoding have the following encoded/decoded ranges,\n    // which we need to convert between.\n    //\n    // ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz 0123456789  +   /\n    // Index:   0 - 25                    26 - 51              52 - 61   62  63\n    // ASCII:  65 - 90                    97 - 122             48 - 57   43  47\n    //\n    // Encode 6 bits in b into a new character.\n    Coder.prototype._encodeByte = function (b) {\n        // Encoding uses constant time operations as follows:\n        //\n        // 1. Define comparison of A with B using (A - B) >>> 8:\n        //          if A > B, then result is positive integer\n        //          if A <= B, then result is 0\n        //\n        // 2. Define selection of C or 0 using bitwise AND: X & C:\n        //          if X == 0, then result is 0\n        //          if X != 0, then result is C\n        //\n        // 3. Start with the smallest comparison (b >= 0), which is always\n        //    true, so set the result to the starting ASCII value (65).\n        //\n        // 4. Continue comparing b to higher ASCII values, and selecting\n        //    zero if comparison isn't true, otherwise selecting a value\n        //    to add to result, which:\n        //\n        //          a) undoes the previous addition\n        //          b) provides new value to add\n        //\n        var result = b;\n        // b >= 0\n        result += 65;\n        // b > 25\n        result += ((25 - b) >>> 8) & ((0 - 65) - 26 + 97);\n        // b > 51\n        result += ((51 - b) >>> 8) & ((26 - 97) - 52 + 48);\n        // b > 61\n        result += ((61 - b) >>> 8) & ((52 - 48) - 62 + 43);\n        // b > 62\n        result += ((62 - b) >>> 8) & ((62 - 43) - 63 + 47);\n        return String.fromCharCode(result);\n    };\n    // Decode a character code into a byte.\n    // Must return 256 if character is out of alphabet range.\n    Coder.prototype._decodeChar = function (c) {\n        // Decoding works similar to encoding: using the same comparison\n        // function, but now it works on ranges: result is always incremented\n        // by value, but this value becomes zero if the range is not\n        // satisfied.\n        //\n        // Decoding starts with invalid value, 256, which is then\n        // subtracted when the range is satisfied. If none of the ranges\n        // apply, the function returns 256, which is then checked by\n        // the caller to throw error.\n        var result = INVALID_BYTE; // start with invalid character\n        // c == 43 (c > 42 and c < 44)\n        result += (((42 - c) & (c - 44)) >>> 8) & (-INVALID_BYTE + c - 43 + 62);\n        // c == 47 (c > 46 and c < 48)\n        result += (((46 - c) & (c - 48)) >>> 8) & (-INVALID_BYTE + c - 47 + 63);\n        // c > 47 and c < 58\n        result += (((47 - c) & (c - 58)) >>> 8) & (-INVALID_BYTE + c - 48 + 52);\n        // c > 64 and c < 91\n        result += (((64 - c) & (c - 91)) >>> 8) & (-INVALID_BYTE + c - 65 + 0);\n        // c > 96 and c < 123\n        result += (((96 - c) & (c - 123)) >>> 8) & (-INVALID_BYTE + c - 97 + 26);\n        return result;\n    };\n    Coder.prototype._getPaddingLength = function (s) {\n        var paddingLength = 0;\n        if (this._paddingCharacter) {\n            for (var i = s.length - 1; i >= 0; i--) {\n                if (s[i] !== this._paddingCharacter) {\n                    break;\n                }\n                paddingLength++;\n            }\n            if (s.length < 4 || paddingLength > 2) {\n                throw new Error(\"Base64Coder: incorrect padding\");\n            }\n        }\n        return paddingLength;\n    };\n    return Coder;\n}());\nexports.Coder = Coder;\nvar stdCoder = new Coder();\nfunction encode(data) {\n    return stdCoder.encode(data);\n}\nexports.encode = encode;\nfunction decode(s) {\n    return stdCoder.decode(s);\n}\nexports.decode = decode;\n/**\n * Implements URL-safe Base64 encoding.\n * (Same as Base64, but '+' is replaced with '-', and '/' with '_').\n *\n * Operates in constant time.\n */\nvar URLSafeCoder = /** @class */ (function (_super) {\n    __extends(URLSafeCoder, _super);\n    function URLSafeCoder() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // URL-safe encoding have the following encoded/decoded ranges:\n    //\n    // ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz 0123456789  -   _\n    // Index:   0 - 25                    26 - 51              52 - 61   62  63\n    // ASCII:  65 - 90                    97 - 122             48 - 57   45  95\n    //\n    URLSafeCoder.prototype._encodeByte = function (b) {\n        var result = b;\n        // b >= 0\n        result += 65;\n        // b > 25\n        result += ((25 - b) >>> 8) & ((0 - 65) - 26 + 97);\n        // b > 51\n        result += ((51 - b) >>> 8) & ((26 - 97) - 52 + 48);\n        // b > 61\n        result += ((61 - b) >>> 8) & ((52 - 48) - 62 + 45);\n        // b > 62\n        result += ((62 - b) >>> 8) & ((62 - 45) - 63 + 95);\n        return String.fromCharCode(result);\n    };\n    URLSafeCoder.prototype._decodeChar = function (c) {\n        var result = INVALID_BYTE;\n        // c == 45 (c > 44 and c < 46)\n        result += (((44 - c) & (c - 46)) >>> 8) & (-INVALID_BYTE + c - 45 + 62);\n        // c == 95 (c > 94 and c < 96)\n        result += (((94 - c) & (c - 96)) >>> 8) & (-INVALID_BYTE + c - 95 + 63);\n        // c > 47 and c < 58\n        result += (((47 - c) & (c - 58)) >>> 8) & (-INVALID_BYTE + c - 48 + 52);\n        // c > 64 and c < 91\n        result += (((64 - c) & (c - 91)) >>> 8) & (-INVALID_BYTE + c - 65 + 0);\n        // c > 96 and c < 123\n        result += (((96 - c) & (c - 123)) >>> 8) & (-INVALID_BYTE + c - 97 + 26);\n        return result;\n    };\n    return URLSafeCoder;\n}(Coder));\nexports.URLSafeCoder = URLSafeCoder;\nvar urlSafeCoder = new URLSafeCoder();\nfunction encodeURLSafe(data) {\n    return urlSafeCoder.encode(data);\n}\nexports.encodeURLSafe = encodeURLSafe;\nfunction decodeURLSafe(s) {\n    return urlSafeCoder.decode(s);\n}\nexports.decodeURLSafe = decodeURLSafe;\nexports.encodedLength = function (length) {\n    return stdCoder.encodedLength(length);\n};\nexports.maxDecodedLength = function (length) {\n    return stdCoder.maxDecodedLength(length);\n};\nexports.decodedLength = function (s) {\n    return stdCoder.decodedLength(s);\n};\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Package utf8 implements UTF-8 encoding and decoding.\n */\nvar INVALID_UTF16 = \"utf8: invalid string\";\nvar INVALID_UTF8 = \"utf8: invalid source encoding\";\n/**\n * Encodes the given string into UTF-8 byte array.\n * Throws if the source string has invalid UTF-16 encoding.\n */\nfunction encode(s) {\n    // Calculate result length and allocate output array.\n    // encodedLength() also validates string and throws errors,\n    // so we don't need repeat validation here.\n    var arr = new Uint8Array(encodedLength(s));\n    var pos = 0;\n    for (var i = 0; i < s.length; i++) {\n        var c = s.charCodeAt(i);\n        if (c < 0x80) {\n            arr[pos++] = c;\n        }\n        else if (c < 0x800) {\n            arr[pos++] = 0xc0 | c >> 6;\n            arr[pos++] = 0x80 | c & 0x3f;\n        }\n        else if (c < 0xd800) {\n            arr[pos++] = 0xe0 | c >> 12;\n            arr[pos++] = 0x80 | (c >> 6) & 0x3f;\n            arr[pos++] = 0x80 | c & 0x3f;\n        }\n        else {\n            i++; // get one more character\n            c = (c & 0x3ff) << 10;\n            c |= s.charCodeAt(i) & 0x3ff;\n            c += 0x10000;\n            arr[pos++] = 0xf0 | c >> 18;\n            arr[pos++] = 0x80 | (c >> 12) & 0x3f;\n            arr[pos++] = 0x80 | (c >> 6) & 0x3f;\n            arr[pos++] = 0x80 | c & 0x3f;\n        }\n    }\n    return arr;\n}\nexports.encode = encode;\n/**\n * Returns the number of bytes required to encode the given string into UTF-8.\n * Throws if the source string has invalid UTF-16 encoding.\n */\nfunction encodedLength(s) {\n    var result = 0;\n    for (var i = 0; i < s.length; i++) {\n        var c = s.charCodeAt(i);\n        if (c < 0x80) {\n            result += 1;\n        }\n        else if (c < 0x800) {\n            result += 2;\n        }\n        else if (c < 0xd800) {\n            result += 3;\n        }\n        else if (c <= 0xdfff) {\n            if (i >= s.length - 1) {\n                throw new Error(INVALID_UTF16);\n            }\n            i++; // \"eat\" next character\n            result += 4;\n        }\n        else {\n            throw new Error(INVALID_UTF16);\n        }\n    }\n    return result;\n}\nexports.encodedLength = encodedLength;\n/**\n * Decodes the given byte array from UTF-8 into a string.\n * Throws if encoding is invalid.\n */\nfunction decode(arr) {\n    var chars = [];\n    for (var i = 0; i < arr.length; i++) {\n        var b = arr[i];\n        if (b & 0x80) {\n            var min = void 0;\n            if (b < 0xe0) {\n                // Need 1 more byte.\n                if (i >= arr.length) {\n                    throw new Error(INVALID_UTF8);\n                }\n                var n1 = arr[++i];\n                if ((n1 & 0xc0) !== 0x80) {\n                    throw new Error(INVALID_UTF8);\n                }\n                b = (b & 0x1f) << 6 | (n1 & 0x3f);\n                min = 0x80;\n            }\n            else if (b < 0xf0) {\n                // Need 2 more bytes.\n                if (i >= arr.length - 1) {\n                    throw new Error(INVALID_UTF8);\n                }\n                var n1 = arr[++i];\n                var n2 = arr[++i];\n                if ((n1 & 0xc0) !== 0x80 || (n2 & 0xc0) !== 0x80) {\n                    throw new Error(INVALID_UTF8);\n                }\n                b = (b & 0x0f) << 12 | (n1 & 0x3f) << 6 | (n2 & 0x3f);\n                min = 0x800;\n            }\n            else if (b < 0xf8) {\n                // Need 3 more bytes.\n                if (i >= arr.length - 2) {\n                    throw new Error(INVALID_UTF8);\n                }\n                var n1 = arr[++i];\n                var n2 = arr[++i];\n                var n3 = arr[++i];\n                if ((n1 & 0xc0) !== 0x80 || (n2 & 0xc0) !== 0x80 || (n3 & 0xc0) !== 0x80) {\n                    throw new Error(INVALID_UTF8);\n                }\n                b = (b & 0x0f) << 18 | (n1 & 0x3f) << 12 | (n2 & 0x3f) << 6 | (n3 & 0x3f);\n                min = 0x10000;\n            }\n            else {\n                throw new Error(INVALID_UTF8);\n            }\n            if (b < min || (b >= 0xd800 && b <= 0xdfff)) {\n                throw new Error(INVALID_UTF8);\n            }\n            if (b >= 0x10000) {\n                // Surrogate pair.\n                if (b > 0x10ffff) {\n                    throw new Error(INVALID_UTF8);\n                }\n                b -= 0x10000;\n                chars.push(String.fromCharCode(0xd800 | (b >> 10)));\n                b = 0xdc00 | (b & 0x3ff);\n            }\n        }\n        chars.push(String.fromCharCode(b));\n    }\n    return chars.join(\"\");\n}\nexports.decode = decode;\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// required so we don't have to do require('pusher').default etc.\nmodule.exports = __webpack_require__(3).default;\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/runtimes/web/dom/script_receiver_factory.ts\nclass ScriptReceiverFactory {\n    constructor(prefix, name) {\n        this.lastId = 0;\n        this.prefix = prefix;\n        this.name = name;\n    }\n    create(callback) {\n        this.lastId++;\n        var number = this.lastId;\n        var id = this.prefix + number;\n        var name = this.name + '[' + number + ']';\n        var called = false;\n        var callbackWrapper = function () {\n            if (!called) {\n                callback.apply(null, arguments);\n                called = true;\n            }\n        };\n        this[number] = callbackWrapper;\n        return { number: number, id: id, name: name, callback: callbackWrapper };\n    }\n    remove(receiver) {\n        delete this[receiver.number];\n    }\n}\nvar ScriptReceivers = new ScriptReceiverFactory('_pusher_script_', 'Pusher.ScriptReceivers');\n\n// CONCATENATED MODULE: ./src/core/defaults.ts\nvar Defaults = {\n    VERSION: \"8.4.0\",\n    PROTOCOL: 7,\n    wsPort: 80,\n    wssPort: 443,\n    wsPath: '',\n    httpHost: 'sockjs.pusher.com',\n    httpPort: 80,\n    httpsPort: 443,\n    httpPath: '/pusher',\n    stats_host: 'stats.pusher.com',\n    authEndpoint: '/pusher/auth',\n    authTransport: 'ajax',\n    activityTimeout: 120000,\n    pongTimeout: 30000,\n    unavailableTimeout: 10000,\n    userAuthentication: {\n        endpoint: '/pusher/user-auth',\n        transport: 'ajax',\n    },\n    channelAuthorization: {\n        endpoint: '/pusher/auth',\n        transport: 'ajax',\n    },\n    cdn_http: \"http://js.pusher.com\",\n    cdn_https: \"https://js.pusher.com\",\n    dependency_suffix: \"\",\n};\n/* harmony default export */ var defaults = (Defaults);\n\n// CONCATENATED MODULE: ./src/runtimes/web/dom/dependency_loader.ts\n\n\nclass dependency_loader_DependencyLoader {\n    constructor(options) {\n        this.options = options;\n        this.receivers = options.receivers || ScriptReceivers;\n        this.loading = {};\n    }\n    load(name, options, callback) {\n        var self = this;\n        if (self.loading[name] && self.loading[name].length > 0) {\n            self.loading[name].push(callback);\n        }\n        else {\n            self.loading[name] = [callback];\n            var request = runtime.createScriptRequest(self.getPath(name, options));\n            var receiver = self.receivers.create(function (error) {\n                self.receivers.remove(receiver);\n                if (self.loading[name]) {\n                    var callbacks = self.loading[name];\n                    delete self.loading[name];\n                    var successCallback = function (wasSuccessful) {\n                        if (!wasSuccessful) {\n                            request.cleanup();\n                        }\n                    };\n                    for (var i = 0; i < callbacks.length; i++) {\n                        callbacks[i](error, successCallback);\n                    }\n                }\n            });\n            request.send(receiver);\n        }\n    }\n    getRoot(options) {\n        var cdn;\n        var protocol = runtime.getDocument().location.protocol;\n        if ((options && options.useTLS) || protocol === 'https:') {\n            cdn = this.options.cdn_https;\n        }\n        else {\n            cdn = this.options.cdn_http;\n        }\n        return cdn.replace(/\\/*$/, '') + '/' + this.options.version;\n    }\n    getPath(name, options) {\n        return this.getRoot(options) + '/' + name + this.options.suffix + '.js';\n    }\n}\n\n// CONCATENATED MODULE: ./src/runtimes/web/dom/dependencies.ts\n\n\n\nvar DependenciesReceivers = new ScriptReceiverFactory('_pusher_dependencies', 'Pusher.DependenciesReceivers');\nvar Dependencies = new dependency_loader_DependencyLoader({\n    cdn_http: defaults.cdn_http,\n    cdn_https: defaults.cdn_https,\n    version: defaults.VERSION,\n    suffix: defaults.dependency_suffix,\n    receivers: DependenciesReceivers,\n});\n\n// CONCATENATED MODULE: ./src/core/utils/url_store.ts\nconst urlStore = {\n    baseUrl: 'https://pusher.com',\n    urls: {\n        authenticationEndpoint: {\n            path: '/docs/channels/server_api/authenticating_users',\n        },\n        authorizationEndpoint: {\n            path: '/docs/channels/server_api/authorizing-users/',\n        },\n        javascriptQuickStart: {\n            path: '/docs/javascript_quick_start',\n        },\n        triggeringClientEvents: {\n            path: '/docs/client_api_guide/client_events#trigger-events',\n        },\n        encryptedChannelSupport: {\n            fullUrl: 'https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support',\n        },\n    },\n};\nconst buildLogSuffix = function (key) {\n    const urlPrefix = 'See:';\n    const urlObj = urlStore.urls[key];\n    if (!urlObj)\n        return '';\n    let url;\n    if (urlObj.fullUrl) {\n        url = urlObj.fullUrl;\n    }\n    else if (urlObj.path) {\n        url = urlStore.baseUrl + urlObj.path;\n    }\n    if (!url)\n        return '';\n    return `${urlPrefix} ${url}`;\n};\n/* harmony default export */ var url_store = ({ buildLogSuffix });\n\n// CONCATENATED MODULE: ./src/core/auth/options.ts\nvar AuthRequestType;\n(function (AuthRequestType) {\n    AuthRequestType[\"UserAuthentication\"] = \"user-authentication\";\n    AuthRequestType[\"ChannelAuthorization\"] = \"channel-authorization\";\n})(AuthRequestType || (AuthRequestType = {}));\n\n// CONCATENATED MODULE: ./src/core/errors.ts\nclass BadEventName extends Error {\n    constructor(msg) {\n        super(msg);\n        Object.setPrototypeOf(this, new.target.prototype);\n    }\n}\nclass BadChannelName extends Error {\n    constructor(msg) {\n        super(msg);\n        Object.setPrototypeOf(this, new.target.prototype);\n    }\n}\nclass RequestTimedOut extends Error {\n    constructor(msg) {\n        super(msg);\n        Object.setPrototypeOf(this, new.target.prototype);\n    }\n}\nclass TransportPriorityTooLow extends Error {\n    constructor(msg) {\n        super(msg);\n        Object.setPrototypeOf(this, new.target.prototype);\n    }\n}\nclass TransportClosed extends Error {\n    constructor(msg) {\n        super(msg);\n        Object.setPrototypeOf(this, new.target.prototype);\n    }\n}\nclass UnsupportedFeature extends Error {\n    constructor(msg) {\n        super(msg);\n        Object.setPrototypeOf(this, new.target.prototype);\n    }\n}\nclass UnsupportedTransport extends Error {\n    constructor(msg) {\n        super(msg);\n        Object.setPrototypeOf(this, new.target.prototype);\n    }\n}\nclass UnsupportedStrategy extends Error {\n    constructor(msg) {\n        super(msg);\n        Object.setPrototypeOf(this, new.target.prototype);\n    }\n}\nclass HTTPAuthError extends Error {\n    constructor(status, msg) {\n        super(msg);\n        this.status = status;\n        Object.setPrototypeOf(this, new.target.prototype);\n    }\n}\n\n// CONCATENATED MODULE: ./src/runtimes/isomorphic/auth/xhr_auth.ts\n\n\n\n\nconst ajax = function (context, query, authOptions, authRequestType, callback) {\n    const xhr = runtime.createXHR();\n    xhr.open('POST', authOptions.endpoint, true);\n    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    for (var headerName in authOptions.headers) {\n        xhr.setRequestHeader(headerName, authOptions.headers[headerName]);\n    }\n    if (authOptions.headersProvider != null) {\n        let dynamicHeaders = authOptions.headersProvider();\n        for (var headerName in dynamicHeaders) {\n            xhr.setRequestHeader(headerName, dynamicHeaders[headerName]);\n        }\n    }\n    xhr.onreadystatechange = function () {\n        if (xhr.readyState === 4) {\n            if (xhr.status === 200) {\n                let data;\n                let parsed = false;\n                try {\n                    data = JSON.parse(xhr.responseText);\n                    parsed = true;\n                }\n                catch (e) {\n                    callback(new HTTPAuthError(200, `JSON returned from ${authRequestType.toString()} endpoint was invalid, yet status code was 200. Data was: ${xhr.responseText}`), null);\n                }\n                if (parsed) {\n                    callback(null, data);\n                }\n            }\n            else {\n                let suffix = '';\n                switch (authRequestType) {\n                    case AuthRequestType.UserAuthentication:\n                        suffix = url_store.buildLogSuffix('authenticationEndpoint');\n                        break;\n                    case AuthRequestType.ChannelAuthorization:\n                        suffix = `Clients must be authorized to join private or presence channels. ${url_store.buildLogSuffix('authorizationEndpoint')}`;\n                        break;\n                }\n                callback(new HTTPAuthError(xhr.status, `Unable to retrieve auth string from ${authRequestType.toString()} endpoint - ` +\n                    `received status: ${xhr.status} from ${authOptions.endpoint}. ${suffix}`), null);\n            }\n        }\n    };\n    xhr.send(query);\n    return xhr;\n};\n/* harmony default export */ var xhr_auth = (ajax);\n\n// CONCATENATED MODULE: ./src/core/base64.ts\nfunction encode(s) {\n    return btoa(utob(s));\n}\nvar fromCharCode = String.fromCharCode;\nvar b64chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\nvar b64tab = {};\nfor (var base64_i = 0, l = b64chars.length; base64_i < l; base64_i++) {\n    b64tab[b64chars.charAt(base64_i)] = base64_i;\n}\nvar cb_utob = function (c) {\n    var cc = c.charCodeAt(0);\n    return cc < 0x80\n        ? c\n        : cc < 0x800\n            ? fromCharCode(0xc0 | (cc >>> 6)) + fromCharCode(0x80 | (cc & 0x3f))\n            : fromCharCode(0xe0 | ((cc >>> 12) & 0x0f)) +\n                fromCharCode(0x80 | ((cc >>> 6) & 0x3f)) +\n                fromCharCode(0x80 | (cc & 0x3f));\n};\nvar utob = function (u) {\n    return u.replace(/[^\\x00-\\x7F]/g, cb_utob);\n};\nvar cb_encode = function (ccc) {\n    var padlen = [0, 2, 1][ccc.length % 3];\n    var ord = (ccc.charCodeAt(0) << 16) |\n        ((ccc.length > 1 ? ccc.charCodeAt(1) : 0) << 8) |\n        (ccc.length > 2 ? ccc.charCodeAt(2) : 0);\n    var chars = [\n        b64chars.charAt(ord >>> 18),\n        b64chars.charAt((ord >>> 12) & 63),\n        padlen >= 2 ? '=' : b64chars.charAt((ord >>> 6) & 63),\n        padlen >= 1 ? '=' : b64chars.charAt(ord & 63),\n    ];\n    return chars.join('');\n};\nvar btoa = window.btoa ||\n    function (b) {\n        return b.replace(/[\\s\\S]{1,3}/g, cb_encode);\n    };\n\n// CONCATENATED MODULE: ./src/core/utils/timers/abstract_timer.ts\nclass Timer {\n    constructor(set, clear, delay, callback) {\n        this.clear = clear;\n        this.timer = set(() => {\n            if (this.timer) {\n                this.timer = callback(this.timer);\n            }\n        }, delay);\n    }\n    isRunning() {\n        return this.timer !== null;\n    }\n    ensureAborted() {\n        if (this.timer) {\n            this.clear(this.timer);\n            this.timer = null;\n        }\n    }\n}\n/* harmony default export */ var abstract_timer = (Timer);\n\n// CONCATENATED MODULE: ./src/core/utils/timers/index.ts\n\nfunction timers_clearTimeout(timer) {\n    window.clearTimeout(timer);\n}\nfunction timers_clearInterval(timer) {\n    window.clearInterval(timer);\n}\nclass timers_OneOffTimer extends abstract_timer {\n    constructor(delay, callback) {\n        super(setTimeout, timers_clearTimeout, delay, function (timer) {\n            callback();\n            return null;\n        });\n    }\n}\nclass timers_PeriodicTimer extends abstract_timer {\n    constructor(delay, callback) {\n        super(setInterval, timers_clearInterval, delay, function (timer) {\n            callback();\n            return timer;\n        });\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/util.ts\n\nvar Util = {\n    now() {\n        if (Date.now) {\n            return Date.now();\n        }\n        else {\n            return new Date().valueOf();\n        }\n    },\n    defer(callback) {\n        return new timers_OneOffTimer(0, callback);\n    },\n    method(name, ...args) {\n        var boundArguments = Array.prototype.slice.call(arguments, 1);\n        return function (object) {\n            return object[name].apply(object, boundArguments.concat(arguments));\n        };\n    },\n};\n/* harmony default export */ var util = (Util);\n\n// CONCATENATED MODULE: ./src/core/utils/collections.ts\n\n\nfunction extend(target, ...sources) {\n    for (var i = 0; i < sources.length; i++) {\n        var extensions = sources[i];\n        for (var property in extensions) {\n            if (extensions[property] &&\n                extensions[property].constructor &&\n                extensions[property].constructor === Object) {\n                target[property] = extend(target[property] || {}, extensions[property]);\n            }\n            else {\n                target[property] = extensions[property];\n            }\n        }\n    }\n    return target;\n}\nfunction stringify() {\n    var m = ['Pusher'];\n    for (var i = 0; i < arguments.length; i++) {\n        if (typeof arguments[i] === 'string') {\n            m.push(arguments[i]);\n        }\n        else {\n            m.push(safeJSONStringify(arguments[i]));\n        }\n    }\n    return m.join(' : ');\n}\nfunction arrayIndexOf(array, item) {\n    var nativeIndexOf = Array.prototype.indexOf;\n    if (array === null) {\n        return -1;\n    }\n    if (nativeIndexOf && array.indexOf === nativeIndexOf) {\n        return array.indexOf(item);\n    }\n    for (var i = 0, l = array.length; i < l; i++) {\n        if (array[i] === item) {\n            return i;\n        }\n    }\n    return -1;\n}\nfunction objectApply(object, f) {\n    for (var key in object) {\n        if (Object.prototype.hasOwnProperty.call(object, key)) {\n            f(object[key], key, object);\n        }\n    }\n}\nfunction keys(object) {\n    var keys = [];\n    objectApply(object, function (_, key) {\n        keys.push(key);\n    });\n    return keys;\n}\nfunction values(object) {\n    var values = [];\n    objectApply(object, function (value) {\n        values.push(value);\n    });\n    return values;\n}\nfunction apply(array, f, context) {\n    for (var i = 0; i < array.length; i++) {\n        f.call(context || window, array[i], i, array);\n    }\n}\nfunction map(array, f) {\n    var result = [];\n    for (var i = 0; i < array.length; i++) {\n        result.push(f(array[i], i, array, result));\n    }\n    return result;\n}\nfunction mapObject(object, f) {\n    var result = {};\n    objectApply(object, function (value, key) {\n        result[key] = f(value);\n    });\n    return result;\n}\nfunction filter(array, test) {\n    test =\n        test ||\n            function (value) {\n                return !!value;\n            };\n    var result = [];\n    for (var i = 0; i < array.length; i++) {\n        if (test(array[i], i, array, result)) {\n            result.push(array[i]);\n        }\n    }\n    return result;\n}\nfunction filterObject(object, test) {\n    var result = {};\n    objectApply(object, function (value, key) {\n        if ((test && test(value, key, object, result)) || Boolean(value)) {\n            result[key] = value;\n        }\n    });\n    return result;\n}\nfunction flatten(object) {\n    var result = [];\n    objectApply(object, function (value, key) {\n        result.push([key, value]);\n    });\n    return result;\n}\nfunction any(array, test) {\n    for (var i = 0; i < array.length; i++) {\n        if (test(array[i], i, array)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction collections_all(array, test) {\n    for (var i = 0; i < array.length; i++) {\n        if (!test(array[i], i, array)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction encodeParamsObject(data) {\n    return mapObject(data, function (value) {\n        if (typeof value === 'object') {\n            value = safeJSONStringify(value);\n        }\n        return encodeURIComponent(encode(value.toString()));\n    });\n}\nfunction buildQueryString(data) {\n    var params = filterObject(data, function (value) {\n        return value !== undefined;\n    });\n    var query = map(flatten(encodeParamsObject(params)), util.method('join', '=')).join('&');\n    return query;\n}\nfunction decycleObject(object) {\n    var objects = [], paths = [];\n    return (function derez(value, path) {\n        var i, name, nu;\n        switch (typeof value) {\n            case 'object':\n                if (!value) {\n                    return null;\n                }\n                for (i = 0; i < objects.length; i += 1) {\n                    if (objects[i] === value) {\n                        return { $ref: paths[i] };\n                    }\n                }\n                objects.push(value);\n                paths.push(path);\n                if (Object.prototype.toString.apply(value) === '[object Array]') {\n                    nu = [];\n                    for (i = 0; i < value.length; i += 1) {\n                        nu[i] = derez(value[i], path + '[' + i + ']');\n                    }\n                }\n                else {\n                    nu = {};\n                    for (name in value) {\n                        if (Object.prototype.hasOwnProperty.call(value, name)) {\n                            nu[name] = derez(value[name], path + '[' + JSON.stringify(name) + ']');\n                        }\n                    }\n                }\n                return nu;\n            case 'number':\n            case 'string':\n            case 'boolean':\n                return value;\n        }\n    })(object, '$');\n}\nfunction safeJSONStringify(source) {\n    try {\n        return JSON.stringify(source);\n    }\n    catch (e) {\n        return JSON.stringify(decycleObject(source));\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/logger.ts\n\n\nclass logger_Logger {\n    constructor() {\n        this.globalLog = (message) => {\n            if (window.console && window.console.log) {\n                window.console.log(message);\n            }\n        };\n    }\n    debug(...args) {\n        this.log(this.globalLog, args);\n    }\n    warn(...args) {\n        this.log(this.globalLogWarn, args);\n    }\n    error(...args) {\n        this.log(this.globalLogError, args);\n    }\n    globalLogWarn(message) {\n        if (window.console && window.console.warn) {\n            window.console.warn(message);\n        }\n        else {\n            this.globalLog(message);\n        }\n    }\n    globalLogError(message) {\n        if (window.console && window.console.error) {\n            window.console.error(message);\n        }\n        else {\n            this.globalLogWarn(message);\n        }\n    }\n    log(defaultLoggingFunction, ...args) {\n        var message = stringify.apply(this, arguments);\n        if (core_pusher.log) {\n            core_pusher.log(message);\n        }\n        else if (core_pusher.logToConsole) {\n            const log = defaultLoggingFunction.bind(this);\n            log(message);\n        }\n    }\n}\n/* harmony default export */ var logger = (new logger_Logger());\n\n// CONCATENATED MODULE: ./src/runtimes/web/auth/jsonp_auth.ts\n\nvar jsonp = function (context, query, authOptions, authRequestType, callback) {\n    if (authOptions.headers !== undefined ||\n        authOptions.headersProvider != null) {\n        logger.warn(`To send headers with the ${authRequestType.toString()} request, you must use AJAX, rather than JSONP.`);\n    }\n    var callbackName = context.nextAuthCallbackID.toString();\n    context.nextAuthCallbackID++;\n    var document = context.getDocument();\n    var script = document.createElement('script');\n    context.auth_callbacks[callbackName] = function (data) {\n        callback(null, data);\n    };\n    var callback_name = \"Pusher.auth_callbacks['\" + callbackName + \"']\";\n    script.src =\n        authOptions.endpoint +\n            '?callback=' +\n            encodeURIComponent(callback_name) +\n            '&' +\n            query;\n    var head = document.getElementsByTagName('head')[0] || document.documentElement;\n    head.insertBefore(script, head.firstChild);\n};\n/* harmony default export */ var jsonp_auth = (jsonp);\n\n// CONCATENATED MODULE: ./src/runtimes/web/dom/script_request.ts\nclass ScriptRequest {\n    constructor(src) {\n        this.src = src;\n    }\n    send(receiver) {\n        var self = this;\n        var errorString = 'Error loading ' + self.src;\n        self.script = document.createElement('script');\n        self.script.id = receiver.id;\n        self.script.src = self.src;\n        self.script.type = 'text/javascript';\n        self.script.charset = 'UTF-8';\n        if (self.script.addEventListener) {\n            self.script.onerror = function () {\n                receiver.callback(errorString);\n            };\n            self.script.onload = function () {\n                receiver.callback(null);\n            };\n        }\n        else {\n            self.script.onreadystatechange = function () {\n                if (self.script.readyState === 'loaded' ||\n                    self.script.readyState === 'complete') {\n                    receiver.callback(null);\n                }\n            };\n        }\n        if (self.script.async === undefined &&\n            document.attachEvent &&\n            /opera/i.test(navigator.userAgent)) {\n            self.errorScript = document.createElement('script');\n            self.errorScript.id = receiver.id + '_error';\n            self.errorScript.text = receiver.name + \"('\" + errorString + \"');\";\n            self.script.async = self.errorScript.async = false;\n        }\n        else {\n            self.script.async = true;\n        }\n        var head = document.getElementsByTagName('head')[0];\n        head.insertBefore(self.script, head.firstChild);\n        if (self.errorScript) {\n            head.insertBefore(self.errorScript, self.script.nextSibling);\n        }\n    }\n    cleanup() {\n        if (this.script) {\n            this.script.onload = this.script.onerror = null;\n            this.script.onreadystatechange = null;\n        }\n        if (this.script && this.script.parentNode) {\n            this.script.parentNode.removeChild(this.script);\n        }\n        if (this.errorScript && this.errorScript.parentNode) {\n            this.errorScript.parentNode.removeChild(this.errorScript);\n        }\n        this.script = null;\n        this.errorScript = null;\n    }\n}\n\n// CONCATENATED MODULE: ./src/runtimes/web/dom/jsonp_request.ts\n\n\nclass jsonp_request_JSONPRequest {\n    constructor(url, data) {\n        this.url = url;\n        this.data = data;\n    }\n    send(receiver) {\n        if (this.request) {\n            return;\n        }\n        var query = buildQueryString(this.data);\n        var url = this.url + '/' + receiver.number + '?' + query;\n        this.request = runtime.createScriptRequest(url);\n        this.request.send(receiver);\n    }\n    cleanup() {\n        if (this.request) {\n            this.request.cleanup();\n        }\n    }\n}\n\n// CONCATENATED MODULE: ./src/runtimes/web/timeline/jsonp_timeline.ts\n\n\nvar getAgent = function (sender, useTLS) {\n    return function (data, callback) {\n        var scheme = 'http' + (useTLS ? 's' : '') + '://';\n        var url = scheme + (sender.host || sender.options.host) + sender.options.path;\n        var request = runtime.createJSONPRequest(url, data);\n        var receiver = runtime.ScriptReceivers.create(function (error, result) {\n            ScriptReceivers.remove(receiver);\n            request.cleanup();\n            if (result && result.host) {\n                sender.host = result.host;\n            }\n            if (callback) {\n                callback(error, result);\n            }\n        });\n        request.send(receiver);\n    };\n};\nvar jsonp_timeline_jsonp = {\n    name: 'jsonp',\n    getAgent,\n};\n/* harmony default export */ var jsonp_timeline = (jsonp_timeline_jsonp);\n\n// CONCATENATED MODULE: ./src/core/transports/url_schemes.ts\n\nfunction getGenericURL(baseScheme, params, path) {\n    var scheme = baseScheme + (params.useTLS ? 's' : '');\n    var host = params.useTLS ? params.hostTLS : params.hostNonTLS;\n    return scheme + '://' + host + path;\n}\nfunction getGenericPath(key, queryString) {\n    var path = '/app/' + key;\n    var query = '?protocol=' +\n        defaults.PROTOCOL +\n        '&client=js' +\n        '&version=' +\n        defaults.VERSION +\n        (queryString ? '&' + queryString : '');\n    return path + query;\n}\nvar ws = {\n    getInitial: function (key, params) {\n        var path = (params.httpPath || '') + getGenericPath(key, 'flash=false');\n        return getGenericURL('ws', params, path);\n    },\n};\nvar http = {\n    getInitial: function (key, params) {\n        var path = (params.httpPath || '/pusher') + getGenericPath(key);\n        return getGenericURL('http', params, path);\n    },\n};\nvar sockjs = {\n    getInitial: function (key, params) {\n        return getGenericURL('http', params, params.httpPath || '/pusher');\n    },\n    getPath: function (key, params) {\n        return getGenericPath(key);\n    },\n};\n\n// CONCATENATED MODULE: ./src/core/events/callback_registry.ts\n\nclass callback_registry_CallbackRegistry {\n    constructor() {\n        this._callbacks = {};\n    }\n    get(name) {\n        return this._callbacks[prefix(name)];\n    }\n    add(name, callback, context) {\n        var prefixedEventName = prefix(name);\n        this._callbacks[prefixedEventName] =\n            this._callbacks[prefixedEventName] || [];\n        this._callbacks[prefixedEventName].push({\n            fn: callback,\n            context: context,\n        });\n    }\n    remove(name, callback, context) {\n        if (!name && !callback && !context) {\n            this._callbacks = {};\n            return;\n        }\n        var names = name ? [prefix(name)] : keys(this._callbacks);\n        if (callback || context) {\n            this.removeCallback(names, callback, context);\n        }\n        else {\n            this.removeAllCallbacks(names);\n        }\n    }\n    removeCallback(names, callback, context) {\n        apply(names, function (name) {\n            this._callbacks[name] = filter(this._callbacks[name] || [], function (binding) {\n                return ((callback && callback !== binding.fn) ||\n                    (context && context !== binding.context));\n            });\n            if (this._callbacks[name].length === 0) {\n                delete this._callbacks[name];\n            }\n        }, this);\n    }\n    removeAllCallbacks(names) {\n        apply(names, function (name) {\n            delete this._callbacks[name];\n        }, this);\n    }\n}\nfunction prefix(name) {\n    return '_' + name;\n}\n\n// CONCATENATED MODULE: ./src/core/events/dispatcher.ts\n\n\nclass dispatcher_Dispatcher {\n    constructor(failThrough) {\n        this.callbacks = new callback_registry_CallbackRegistry();\n        this.global_callbacks = [];\n        this.failThrough = failThrough;\n    }\n    bind(eventName, callback, context) {\n        this.callbacks.add(eventName, callback, context);\n        return this;\n    }\n    bind_global(callback) {\n        this.global_callbacks.push(callback);\n        return this;\n    }\n    unbind(eventName, callback, context) {\n        this.callbacks.remove(eventName, callback, context);\n        return this;\n    }\n    unbind_global(callback) {\n        if (!callback) {\n            this.global_callbacks = [];\n            return this;\n        }\n        this.global_callbacks = filter(this.global_callbacks || [], (c) => c !== callback);\n        return this;\n    }\n    unbind_all() {\n        this.unbind();\n        this.unbind_global();\n        return this;\n    }\n    emit(eventName, data, metadata) {\n        for (var i = 0; i < this.global_callbacks.length; i++) {\n            this.global_callbacks[i](eventName, data);\n        }\n        var callbacks = this.callbacks.get(eventName);\n        var args = [];\n        if (metadata) {\n            args.push(data, metadata);\n        }\n        else if (data) {\n            args.push(data);\n        }\n        if (callbacks && callbacks.length > 0) {\n            for (var i = 0; i < callbacks.length; i++) {\n                callbacks[i].fn.apply(callbacks[i].context || window, args);\n            }\n        }\n        else if (this.failThrough) {\n            this.failThrough(eventName, data);\n        }\n        return this;\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/transports/transport_connection.ts\n\n\n\n\n\nclass transport_connection_TransportConnection extends dispatcher_Dispatcher {\n    constructor(hooks, name, priority, key, options) {\n        super();\n        this.initialize = runtime.transportConnectionInitializer;\n        this.hooks = hooks;\n        this.name = name;\n        this.priority = priority;\n        this.key = key;\n        this.options = options;\n        this.state = 'new';\n        this.timeline = options.timeline;\n        this.activityTimeout = options.activityTimeout;\n        this.id = this.timeline.generateUniqueID();\n    }\n    handlesActivityChecks() {\n        return Boolean(this.hooks.handlesActivityChecks);\n    }\n    supportsPing() {\n        return Boolean(this.hooks.supportsPing);\n    }\n    connect() {\n        if (this.socket || this.state !== 'initialized') {\n            return false;\n        }\n        var url = this.hooks.urls.getInitial(this.key, this.options);\n        try {\n            this.socket = this.hooks.getSocket(url, this.options);\n        }\n        catch (e) {\n            util.defer(() => {\n                this.onError(e);\n                this.changeState('closed');\n            });\n            return false;\n        }\n        this.bindListeners();\n        logger.debug('Connecting', { transport: this.name, url });\n        this.changeState('connecting');\n        return true;\n    }\n    close() {\n        if (this.socket) {\n            this.socket.close();\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    send(data) {\n        if (this.state === 'open') {\n            util.defer(() => {\n                if (this.socket) {\n                    this.socket.send(data);\n                }\n            });\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    ping() {\n        if (this.state === 'open' && this.supportsPing()) {\n            this.socket.ping();\n        }\n    }\n    onOpen() {\n        if (this.hooks.beforeOpen) {\n            this.hooks.beforeOpen(this.socket, this.hooks.urls.getPath(this.key, this.options));\n        }\n        this.changeState('open');\n        this.socket.onopen = undefined;\n    }\n    onError(error) {\n        this.emit('error', { type: 'WebSocketError', error: error });\n        this.timeline.error(this.buildTimelineMessage({ error: error.toString() }));\n    }\n    onClose(closeEvent) {\n        if (closeEvent) {\n            this.changeState('closed', {\n                code: closeEvent.code,\n                reason: closeEvent.reason,\n                wasClean: closeEvent.wasClean,\n            });\n        }\n        else {\n            this.changeState('closed');\n        }\n        this.unbindListeners();\n        this.socket = undefined;\n    }\n    onMessage(message) {\n        this.emit('message', message);\n    }\n    onActivity() {\n        this.emit('activity');\n    }\n    bindListeners() {\n        this.socket.onopen = () => {\n            this.onOpen();\n        };\n        this.socket.onerror = (error) => {\n            this.onError(error);\n        };\n        this.socket.onclose = (closeEvent) => {\n            this.onClose(closeEvent);\n        };\n        this.socket.onmessage = (message) => {\n            this.onMessage(message);\n        };\n        if (this.supportsPing()) {\n            this.socket.onactivity = () => {\n                this.onActivity();\n            };\n        }\n    }\n    unbindListeners() {\n        if (this.socket) {\n            this.socket.onopen = undefined;\n            this.socket.onerror = undefined;\n            this.socket.onclose = undefined;\n            this.socket.onmessage = undefined;\n            if (this.supportsPing()) {\n                this.socket.onactivity = undefined;\n            }\n        }\n    }\n    changeState(state, params) {\n        this.state = state;\n        this.timeline.info(this.buildTimelineMessage({\n            state: state,\n            params: params,\n        }));\n        this.emit(state, params);\n    }\n    buildTimelineMessage(message) {\n        return extend({ cid: this.id }, message);\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/transports/transport.ts\n\nclass transport_Transport {\n    constructor(hooks) {\n        this.hooks = hooks;\n    }\n    isSupported(environment) {\n        return this.hooks.isSupported(environment);\n    }\n    createConnection(name, priority, key, options) {\n        return new transport_connection_TransportConnection(this.hooks, name, priority, key, options);\n    }\n}\n\n// CONCATENATED MODULE: ./src/runtimes/isomorphic/transports/transports.ts\n\n\n\n\nvar WSTransport = new transport_Transport({\n    urls: ws,\n    handlesActivityChecks: false,\n    supportsPing: false,\n    isInitialized: function () {\n        return Boolean(runtime.getWebSocketAPI());\n    },\n    isSupported: function () {\n        return Boolean(runtime.getWebSocketAPI());\n    },\n    getSocket: function (url) {\n        return runtime.createWebSocket(url);\n    },\n});\nvar httpConfiguration = {\n    urls: http,\n    handlesActivityChecks: false,\n    supportsPing: true,\n    isInitialized: function () {\n        return true;\n    },\n};\nvar streamingConfiguration = extend({\n    getSocket: function (url) {\n        return runtime.HTTPFactory.createStreamingSocket(url);\n    },\n}, httpConfiguration);\nvar pollingConfiguration = extend({\n    getSocket: function (url) {\n        return runtime.HTTPFactory.createPollingSocket(url);\n    },\n}, httpConfiguration);\nvar xhrConfiguration = {\n    isSupported: function () {\n        return runtime.isXHRSupported();\n    },\n};\nvar XHRStreamingTransport = new transport_Transport((extend({}, streamingConfiguration, xhrConfiguration)));\nvar XHRPollingTransport = new transport_Transport((extend({}, pollingConfiguration, xhrConfiguration)));\nvar Transports = {\n    ws: WSTransport,\n    xhr_streaming: XHRStreamingTransport,\n    xhr_polling: XHRPollingTransport,\n};\n/* harmony default export */ var transports = (Transports);\n\n// CONCATENATED MODULE: ./src/runtimes/web/transports/transports.ts\n\n\n\n\n\n\nvar SockJSTransport = new transport_Transport({\n    file: 'sockjs',\n    urls: sockjs,\n    handlesActivityChecks: true,\n    supportsPing: false,\n    isSupported: function () {\n        return true;\n    },\n    isInitialized: function () {\n        return window.SockJS !== undefined;\n    },\n    getSocket: function (url, options) {\n        return new window.SockJS(url, null, {\n            js_path: Dependencies.getPath('sockjs', {\n                useTLS: options.useTLS,\n            }),\n            ignore_null_origin: options.ignoreNullOrigin,\n        });\n    },\n    beforeOpen: function (socket, path) {\n        socket.send(JSON.stringify({\n            path: path,\n        }));\n    },\n});\nvar xdrConfiguration = {\n    isSupported: function (environment) {\n        var yes = runtime.isXDRSupported(environment.useTLS);\n        return yes;\n    },\n};\nvar XDRStreamingTransport = new transport_Transport((extend({}, streamingConfiguration, xdrConfiguration)));\nvar XDRPollingTransport = new transport_Transport((extend({}, pollingConfiguration, xdrConfiguration)));\ntransports.xdr_streaming = XDRStreamingTransport;\ntransports.xdr_polling = XDRPollingTransport;\ntransports.sockjs = SockJSTransport;\n/* harmony default export */ var transports_transports = (transports);\n\n// CONCATENATED MODULE: ./src/runtimes/web/net_info.ts\n\nclass net_info_NetInfo extends dispatcher_Dispatcher {\n    constructor() {\n        super();\n        var self = this;\n        if (window.addEventListener !== undefined) {\n            window.addEventListener('online', function () {\n                self.emit('online');\n            }, false);\n            window.addEventListener('offline', function () {\n                self.emit('offline');\n            }, false);\n        }\n    }\n    isOnline() {\n        if (window.navigator.onLine === undefined) {\n            return true;\n        }\n        else {\n            return window.navigator.onLine;\n        }\n    }\n}\nvar net_info_Network = new net_info_NetInfo();\n\n// CONCATENATED MODULE: ./src/core/transports/assistant_to_the_transport_manager.ts\n\n\nclass assistant_to_the_transport_manager_AssistantToTheTransportManager {\n    constructor(manager, transport, options) {\n        this.manager = manager;\n        this.transport = transport;\n        this.minPingDelay = options.minPingDelay;\n        this.maxPingDelay = options.maxPingDelay;\n        this.pingDelay = undefined;\n    }\n    createConnection(name, priority, key, options) {\n        options = extend({}, options, {\n            activityTimeout: this.pingDelay,\n        });\n        var connection = this.transport.createConnection(name, priority, key, options);\n        var openTimestamp = null;\n        var onOpen = function () {\n            connection.unbind('open', onOpen);\n            connection.bind('closed', onClosed);\n            openTimestamp = util.now();\n        };\n        var onClosed = (closeEvent) => {\n            connection.unbind('closed', onClosed);\n            if (closeEvent.code === 1002 || closeEvent.code === 1003) {\n                this.manager.reportDeath();\n            }\n            else if (!closeEvent.wasClean && openTimestamp) {\n                var lifespan = util.now() - openTimestamp;\n                if (lifespan < 2 * this.maxPingDelay) {\n                    this.manager.reportDeath();\n                    this.pingDelay = Math.max(lifespan / 2, this.minPingDelay);\n                }\n            }\n        };\n        connection.bind('open', onOpen);\n        return connection;\n    }\n    isSupported(environment) {\n        return this.manager.isAlive() && this.transport.isSupported(environment);\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/connection/protocol/protocol.ts\nconst Protocol = {\n    decodeMessage: function (messageEvent) {\n        try {\n            var messageData = JSON.parse(messageEvent.data);\n            var pusherEventData = messageData.data;\n            if (typeof pusherEventData === 'string') {\n                try {\n                    pusherEventData = JSON.parse(messageData.data);\n                }\n                catch (e) { }\n            }\n            var pusherEvent = {\n                event: messageData.event,\n                channel: messageData.channel,\n                data: pusherEventData,\n            };\n            if (messageData.user_id) {\n                pusherEvent.user_id = messageData.user_id;\n            }\n            return pusherEvent;\n        }\n        catch (e) {\n            throw { type: 'MessageParseError', error: e, data: messageEvent.data };\n        }\n    },\n    encodeMessage: function (event) {\n        return JSON.stringify(event);\n    },\n    processHandshake: function (messageEvent) {\n        var message = Protocol.decodeMessage(messageEvent);\n        if (message.event === 'pusher:connection_established') {\n            if (!message.data.activity_timeout) {\n                throw 'No activity timeout specified in handshake';\n            }\n            return {\n                action: 'connected',\n                id: message.data.socket_id,\n                activityTimeout: message.data.activity_timeout * 1000,\n            };\n        }\n        else if (message.event === 'pusher:error') {\n            return {\n                action: this.getCloseAction(message.data),\n                error: this.getCloseError(message.data),\n            };\n        }\n        else {\n            throw 'Invalid handshake';\n        }\n    },\n    getCloseAction: function (closeEvent) {\n        if (closeEvent.code < 4000) {\n            if (closeEvent.code >= 1002 && closeEvent.code <= 1004) {\n                return 'backoff';\n            }\n            else {\n                return null;\n            }\n        }\n        else if (closeEvent.code === 4000) {\n            return 'tls_only';\n        }\n        else if (closeEvent.code < 4100) {\n            return 'refused';\n        }\n        else if (closeEvent.code < 4200) {\n            return 'backoff';\n        }\n        else if (closeEvent.code < 4300) {\n            return 'retry';\n        }\n        else {\n            return 'refused';\n        }\n    },\n    getCloseError: function (closeEvent) {\n        if (closeEvent.code !== 1000 && closeEvent.code !== 1001) {\n            return {\n                type: 'PusherError',\n                data: {\n                    code: closeEvent.code,\n                    message: closeEvent.reason || closeEvent.message,\n                },\n            };\n        }\n        else {\n            return null;\n        }\n    },\n};\n/* harmony default export */ var protocol_protocol = (Protocol);\n\n// CONCATENATED MODULE: ./src/core/connection/connection.ts\n\n\n\n\nclass connection_Connection extends dispatcher_Dispatcher {\n    constructor(id, transport) {\n        super();\n        this.id = id;\n        this.transport = transport;\n        this.activityTimeout = transport.activityTimeout;\n        this.bindListeners();\n    }\n    handlesActivityChecks() {\n        return this.transport.handlesActivityChecks();\n    }\n    send(data) {\n        return this.transport.send(data);\n    }\n    send_event(name, data, channel) {\n        var event = { event: name, data: data };\n        if (channel) {\n            event.channel = channel;\n        }\n        logger.debug('Event sent', event);\n        return this.send(protocol_protocol.encodeMessage(event));\n    }\n    ping() {\n        if (this.transport.supportsPing()) {\n            this.transport.ping();\n        }\n        else {\n            this.send_event('pusher:ping', {});\n        }\n    }\n    close() {\n        this.transport.close();\n    }\n    bindListeners() {\n        var listeners = {\n            message: (messageEvent) => {\n                var pusherEvent;\n                try {\n                    pusherEvent = protocol_protocol.decodeMessage(messageEvent);\n                }\n                catch (e) {\n                    this.emit('error', {\n                        type: 'MessageParseError',\n                        error: e,\n                        data: messageEvent.data,\n                    });\n                }\n                if (pusherEvent !== undefined) {\n                    logger.debug('Event recd', pusherEvent);\n                    switch (pusherEvent.event) {\n                        case 'pusher:error':\n                            this.emit('error', {\n                                type: 'PusherError',\n                                data: pusherEvent.data,\n                            });\n                            break;\n                        case 'pusher:ping':\n                            this.emit('ping');\n                            break;\n                        case 'pusher:pong':\n                            this.emit('pong');\n                            break;\n                    }\n                    this.emit('message', pusherEvent);\n                }\n            },\n            activity: () => {\n                this.emit('activity');\n            },\n            error: (error) => {\n                this.emit('error', error);\n            },\n            closed: (closeEvent) => {\n                unbindListeners();\n                if (closeEvent && closeEvent.code) {\n                    this.handleCloseEvent(closeEvent);\n                }\n                this.transport = null;\n                this.emit('closed');\n            },\n        };\n        var unbindListeners = () => {\n            objectApply(listeners, (listener, event) => {\n                this.transport.unbind(event, listener);\n            });\n        };\n        objectApply(listeners, (listener, event) => {\n            this.transport.bind(event, listener);\n        });\n    }\n    handleCloseEvent(closeEvent) {\n        var action = protocol_protocol.getCloseAction(closeEvent);\n        var error = protocol_protocol.getCloseError(closeEvent);\n        if (error) {\n            this.emit('error', error);\n        }\n        if (action) {\n            this.emit(action, { action: action, error: error });\n        }\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/connection/handshake/index.ts\n\n\n\nclass handshake_Handshake {\n    constructor(transport, callback) {\n        this.transport = transport;\n        this.callback = callback;\n        this.bindListeners();\n    }\n    close() {\n        this.unbindListeners();\n        this.transport.close();\n    }\n    bindListeners() {\n        this.onMessage = (m) => {\n            this.unbindListeners();\n            var result;\n            try {\n                result = protocol_protocol.processHandshake(m);\n            }\n            catch (e) {\n                this.finish('error', { error: e });\n                this.transport.close();\n                return;\n            }\n            if (result.action === 'connected') {\n                this.finish('connected', {\n                    connection: new connection_Connection(result.id, this.transport),\n                    activityTimeout: result.activityTimeout,\n                });\n            }\n            else {\n                this.finish(result.action, { error: result.error });\n                this.transport.close();\n            }\n        };\n        this.onClosed = (closeEvent) => {\n            this.unbindListeners();\n            var action = protocol_protocol.getCloseAction(closeEvent) || 'backoff';\n            var error = protocol_protocol.getCloseError(closeEvent);\n            this.finish(action, { error: error });\n        };\n        this.transport.bind('message', this.onMessage);\n        this.transport.bind('closed', this.onClosed);\n    }\n    unbindListeners() {\n        this.transport.unbind('message', this.onMessage);\n        this.transport.unbind('closed', this.onClosed);\n    }\n    finish(action, params) {\n        this.callback(extend({ transport: this.transport, action: action }, params));\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/timeline/timeline_sender.ts\n\nclass timeline_sender_TimelineSender {\n    constructor(timeline, options) {\n        this.timeline = timeline;\n        this.options = options || {};\n    }\n    send(useTLS, callback) {\n        if (this.timeline.isEmpty()) {\n            return;\n        }\n        this.timeline.send(runtime.TimelineTransport.getAgent(this, useTLS), callback);\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/channels/channel.ts\n\n\n\n\n\nclass channel_Channel extends dispatcher_Dispatcher {\n    constructor(name, pusher) {\n        super(function (event, data) {\n            logger.debug('No callbacks on ' + name + ' for ' + event);\n        });\n        this.name = name;\n        this.pusher = pusher;\n        this.subscribed = false;\n        this.subscriptionPending = false;\n        this.subscriptionCancelled = false;\n    }\n    authorize(socketId, callback) {\n        return callback(null, { auth: '' });\n    }\n    trigger(event, data) {\n        if (event.indexOf('client-') !== 0) {\n            throw new BadEventName(\"Event '\" + event + \"' does not start with 'client-'\");\n        }\n        if (!this.subscribed) {\n            var suffix = url_store.buildLogSuffix('triggeringClientEvents');\n            logger.warn(`Client event triggered before channel 'subscription_succeeded' event . ${suffix}`);\n        }\n        return this.pusher.send_event(event, data, this.name);\n    }\n    disconnect() {\n        this.subscribed = false;\n        this.subscriptionPending = false;\n    }\n    handleEvent(event) {\n        var eventName = event.event;\n        var data = event.data;\n        if (eventName === 'pusher_internal:subscription_succeeded') {\n            this.handleSubscriptionSucceededEvent(event);\n        }\n        else if (eventName === 'pusher_internal:subscription_count') {\n            this.handleSubscriptionCountEvent(event);\n        }\n        else if (eventName.indexOf('pusher_internal:') !== 0) {\n            var metadata = {};\n            this.emit(eventName, data, metadata);\n        }\n    }\n    handleSubscriptionSucceededEvent(event) {\n        this.subscriptionPending = false;\n        this.subscribed = true;\n        if (this.subscriptionCancelled) {\n            this.pusher.unsubscribe(this.name);\n        }\n        else {\n            this.emit('pusher:subscription_succeeded', event.data);\n        }\n    }\n    handleSubscriptionCountEvent(event) {\n        if (event.data.subscription_count) {\n            this.subscriptionCount = event.data.subscription_count;\n        }\n        this.emit('pusher:subscription_count', event.data);\n    }\n    subscribe() {\n        if (this.subscribed) {\n            return;\n        }\n        this.subscriptionPending = true;\n        this.subscriptionCancelled = false;\n        this.authorize(this.pusher.connection.socket_id, (error, data) => {\n            if (error) {\n                this.subscriptionPending = false;\n                logger.error(error.toString());\n                this.emit('pusher:subscription_error', Object.assign({}, {\n                    type: 'AuthError',\n                    error: error.message,\n                }, error instanceof HTTPAuthError ? { status: error.status } : {}));\n            }\n            else {\n                this.pusher.send_event('pusher:subscribe', {\n                    auth: data.auth,\n                    channel_data: data.channel_data,\n                    channel: this.name,\n                });\n            }\n        });\n    }\n    unsubscribe() {\n        this.subscribed = false;\n        this.pusher.send_event('pusher:unsubscribe', {\n            channel: this.name,\n        });\n    }\n    cancelSubscription() {\n        this.subscriptionCancelled = true;\n    }\n    reinstateSubscription() {\n        this.subscriptionCancelled = false;\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/channels/private_channel.ts\n\nclass private_channel_PrivateChannel extends channel_Channel {\n    authorize(socketId, callback) {\n        return this.pusher.config.channelAuthorizer({\n            channelName: this.name,\n            socketId: socketId,\n        }, callback);\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/channels/members.ts\n\nclass members_Members {\n    constructor() {\n        this.reset();\n    }\n    get(id) {\n        if (Object.prototype.hasOwnProperty.call(this.members, id)) {\n            return {\n                id: id,\n                info: this.members[id],\n            };\n        }\n        else {\n            return null;\n        }\n    }\n    each(callback) {\n        objectApply(this.members, (member, id) => {\n            callback(this.get(id));\n        });\n    }\n    setMyID(id) {\n        this.myID = id;\n    }\n    onSubscription(subscriptionData) {\n        this.members = subscriptionData.presence.hash;\n        this.count = subscriptionData.presence.count;\n        this.me = this.get(this.myID);\n    }\n    addMember(memberData) {\n        if (this.get(memberData.user_id) === null) {\n            this.count++;\n        }\n        this.members[memberData.user_id] = memberData.user_info;\n        return this.get(memberData.user_id);\n    }\n    removeMember(memberData) {\n        var member = this.get(memberData.user_id);\n        if (member) {\n            delete this.members[memberData.user_id];\n            this.count--;\n        }\n        return member;\n    }\n    reset() {\n        this.members = {};\n        this.count = 0;\n        this.myID = null;\n        this.me = null;\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/channels/presence_channel.ts\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\nclass presence_channel_PresenceChannel extends private_channel_PrivateChannel {\n    constructor(name, pusher) {\n        super(name, pusher);\n        this.members = new members_Members();\n    }\n    authorize(socketId, callback) {\n        super.authorize(socketId, (error, authData) => __awaiter(this, void 0, void 0, function* () {\n            if (!error) {\n                authData = authData;\n                if (authData.channel_data != null) {\n                    var channelData = JSON.parse(authData.channel_data);\n                    this.members.setMyID(channelData.user_id);\n                }\n                else {\n                    yield this.pusher.user.signinDonePromise;\n                    if (this.pusher.user.user_data != null) {\n                        this.members.setMyID(this.pusher.user.user_data.id);\n                    }\n                    else {\n                        let suffix = url_store.buildLogSuffix('authorizationEndpoint');\n                        logger.error(`Invalid auth response for channel '${this.name}', ` +\n                            `expected 'channel_data' field. ${suffix}, ` +\n                            `or the user should be signed in.`);\n                        callback('Invalid auth response');\n                        return;\n                    }\n                }\n            }\n            callback(error, authData);\n        }));\n    }\n    handleEvent(event) {\n        var eventName = event.event;\n        if (eventName.indexOf('pusher_internal:') === 0) {\n            this.handleInternalEvent(event);\n        }\n        else {\n            var data = event.data;\n            var metadata = {};\n            if (event.user_id) {\n                metadata.user_id = event.user_id;\n            }\n            this.emit(eventName, data, metadata);\n        }\n    }\n    handleInternalEvent(event) {\n        var eventName = event.event;\n        var data = event.data;\n        switch (eventName) {\n            case 'pusher_internal:subscription_succeeded':\n                this.handleSubscriptionSucceededEvent(event);\n                break;\n            case 'pusher_internal:subscription_count':\n                this.handleSubscriptionCountEvent(event);\n                break;\n            case 'pusher_internal:member_added':\n                var addedMember = this.members.addMember(data);\n                this.emit('pusher:member_added', addedMember);\n                break;\n            case 'pusher_internal:member_removed':\n                var removedMember = this.members.removeMember(data);\n                if (removedMember) {\n                    this.emit('pusher:member_removed', removedMember);\n                }\n                break;\n        }\n    }\n    handleSubscriptionSucceededEvent(event) {\n        this.subscriptionPending = false;\n        this.subscribed = true;\n        if (this.subscriptionCancelled) {\n            this.pusher.unsubscribe(this.name);\n        }\n        else {\n            this.members.onSubscription(event.data);\n            this.emit('pusher:subscription_succeeded', this.members);\n        }\n    }\n    disconnect() {\n        this.members.reset();\n        super.disconnect();\n    }\n}\n\n// EXTERNAL MODULE: ./node_modules/@stablelib/utf8/lib/utf8.js\nvar utf8 = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./node_modules/@stablelib/base64/lib/base64.js\nvar base64 = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/core/channels/encrypted_channel.ts\n\n\n\n\n\nclass encrypted_channel_EncryptedChannel extends private_channel_PrivateChannel {\n    constructor(name, pusher, nacl) {\n        super(name, pusher);\n        this.key = null;\n        this.nacl = nacl;\n    }\n    authorize(socketId, callback) {\n        super.authorize(socketId, (error, authData) => {\n            if (error) {\n                callback(error, authData);\n                return;\n            }\n            let sharedSecret = authData['shared_secret'];\n            if (!sharedSecret) {\n                callback(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`), null);\n                return;\n            }\n            this.key = Object(base64[\"decode\"])(sharedSecret);\n            delete authData['shared_secret'];\n            callback(null, authData);\n        });\n    }\n    trigger(event, data) {\n        throw new UnsupportedFeature('Client events are not currently supported for encrypted channels');\n    }\n    handleEvent(event) {\n        var eventName = event.event;\n        var data = event.data;\n        if (eventName.indexOf('pusher_internal:') === 0 ||\n            eventName.indexOf('pusher:') === 0) {\n            super.handleEvent(event);\n            return;\n        }\n        this.handleEncryptedEvent(eventName, data);\n    }\n    handleEncryptedEvent(event, data) {\n        if (!this.key) {\n            logger.debug('Received encrypted event before key has been retrieved from the authEndpoint');\n            return;\n        }\n        if (!data.ciphertext || !data.nonce) {\n            logger.error('Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: ' +\n                data);\n            return;\n        }\n        let cipherText = Object(base64[\"decode\"])(data.ciphertext);\n        if (cipherText.length < this.nacl.secretbox.overheadLength) {\n            logger.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${cipherText.length}`);\n            return;\n        }\n        let nonce = Object(base64[\"decode\"])(data.nonce);\n        if (nonce.length < this.nacl.secretbox.nonceLength) {\n            logger.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${nonce.length}`);\n            return;\n        }\n        let bytes = this.nacl.secretbox.open(cipherText, nonce, this.key);\n        if (bytes === null) {\n            logger.debug('Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint...');\n            this.authorize(this.pusher.connection.socket_id, (error, authData) => {\n                if (error) {\n                    logger.error(`Failed to make a request to the authEndpoint: ${authData}. Unable to fetch new key, so dropping encrypted event`);\n                    return;\n                }\n                bytes = this.nacl.secretbox.open(cipherText, nonce, this.key);\n                if (bytes === null) {\n                    logger.error(`Failed to decrypt event with new key. Dropping encrypted event`);\n                    return;\n                }\n                this.emit(event, this.getDataToEmit(bytes));\n                return;\n            });\n            return;\n        }\n        this.emit(event, this.getDataToEmit(bytes));\n    }\n    getDataToEmit(bytes) {\n        let raw = Object(utf8[\"decode\"])(bytes);\n        try {\n            return JSON.parse(raw);\n        }\n        catch (_a) {\n            return raw;\n        }\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/connection/connection_manager.ts\n\n\n\n\n\nclass connection_manager_ConnectionManager extends dispatcher_Dispatcher {\n    constructor(key, options) {\n        super();\n        this.state = 'initialized';\n        this.connection = null;\n        this.key = key;\n        this.options = options;\n        this.timeline = this.options.timeline;\n        this.usingTLS = this.options.useTLS;\n        this.errorCallbacks = this.buildErrorCallbacks();\n        this.connectionCallbacks = this.buildConnectionCallbacks(this.errorCallbacks);\n        this.handshakeCallbacks = this.buildHandshakeCallbacks(this.errorCallbacks);\n        var Network = runtime.getNetwork();\n        Network.bind('online', () => {\n            this.timeline.info({ netinfo: 'online' });\n            if (this.state === 'connecting' || this.state === 'unavailable') {\n                this.retryIn(0);\n            }\n        });\n        Network.bind('offline', () => {\n            this.timeline.info({ netinfo: 'offline' });\n            if (this.connection) {\n                this.sendActivityCheck();\n            }\n        });\n        this.updateStrategy();\n    }\n    connect() {\n        if (this.connection || this.runner) {\n            return;\n        }\n        if (!this.strategy.isSupported()) {\n            this.updateState('failed');\n            return;\n        }\n        this.updateState('connecting');\n        this.startConnecting();\n        this.setUnavailableTimer();\n    }\n    send(data) {\n        if (this.connection) {\n            return this.connection.send(data);\n        }\n        else {\n            return false;\n        }\n    }\n    send_event(name, data, channel) {\n        if (this.connection) {\n            return this.connection.send_event(name, data, channel);\n        }\n        else {\n            return false;\n        }\n    }\n    disconnect() {\n        this.disconnectInternally();\n        this.updateState('disconnected');\n    }\n    isUsingTLS() {\n        return this.usingTLS;\n    }\n    startConnecting() {\n        var callback = (error, handshake) => {\n            if (error) {\n                this.runner = this.strategy.connect(0, callback);\n            }\n            else {\n                if (handshake.action === 'error') {\n                    this.emit('error', {\n                        type: 'HandshakeError',\n                        error: handshake.error,\n                    });\n                    this.timeline.error({ handshakeError: handshake.error });\n                }\n                else {\n                    this.abortConnecting();\n                    this.handshakeCallbacks[handshake.action](handshake);\n                }\n            }\n        };\n        this.runner = this.strategy.connect(0, callback);\n    }\n    abortConnecting() {\n        if (this.runner) {\n            this.runner.abort();\n            this.runner = null;\n        }\n    }\n    disconnectInternally() {\n        this.abortConnecting();\n        this.clearRetryTimer();\n        this.clearUnavailableTimer();\n        if (this.connection) {\n            var connection = this.abandonConnection();\n            connection.close();\n        }\n    }\n    updateStrategy() {\n        this.strategy = this.options.getStrategy({\n            key: this.key,\n            timeline: this.timeline,\n            useTLS: this.usingTLS,\n        });\n    }\n    retryIn(delay) {\n        this.timeline.info({ action: 'retry', delay: delay });\n        if (delay > 0) {\n            this.emit('connecting_in', Math.round(delay / 1000));\n        }\n        this.retryTimer = new timers_OneOffTimer(delay || 0, () => {\n            this.disconnectInternally();\n            this.connect();\n        });\n    }\n    clearRetryTimer() {\n        if (this.retryTimer) {\n            this.retryTimer.ensureAborted();\n            this.retryTimer = null;\n        }\n    }\n    setUnavailableTimer() {\n        this.unavailableTimer = new timers_OneOffTimer(this.options.unavailableTimeout, () => {\n            this.updateState('unavailable');\n        });\n    }\n    clearUnavailableTimer() {\n        if (this.unavailableTimer) {\n            this.unavailableTimer.ensureAborted();\n        }\n    }\n    sendActivityCheck() {\n        this.stopActivityCheck();\n        this.connection.ping();\n        this.activityTimer = new timers_OneOffTimer(this.options.pongTimeout, () => {\n            this.timeline.error({ pong_timed_out: this.options.pongTimeout });\n            this.retryIn(0);\n        });\n    }\n    resetActivityCheck() {\n        this.stopActivityCheck();\n        if (this.connection && !this.connection.handlesActivityChecks()) {\n            this.activityTimer = new timers_OneOffTimer(this.activityTimeout, () => {\n                this.sendActivityCheck();\n            });\n        }\n    }\n    stopActivityCheck() {\n        if (this.activityTimer) {\n            this.activityTimer.ensureAborted();\n        }\n    }\n    buildConnectionCallbacks(errorCallbacks) {\n        return extend({}, errorCallbacks, {\n            message: (message) => {\n                this.resetActivityCheck();\n                this.emit('message', message);\n            },\n            ping: () => {\n                this.send_event('pusher:pong', {});\n            },\n            activity: () => {\n                this.resetActivityCheck();\n            },\n            error: (error) => {\n                this.emit('error', error);\n            },\n            closed: () => {\n                this.abandonConnection();\n                if (this.shouldRetry()) {\n                    this.retryIn(1000);\n                }\n            },\n        });\n    }\n    buildHandshakeCallbacks(errorCallbacks) {\n        return extend({}, errorCallbacks, {\n            connected: (handshake) => {\n                this.activityTimeout = Math.min(this.options.activityTimeout, handshake.activityTimeout, handshake.connection.activityTimeout || Infinity);\n                this.clearUnavailableTimer();\n                this.setConnection(handshake.connection);\n                this.socket_id = this.connection.id;\n                this.updateState('connected', { socket_id: this.socket_id });\n            },\n        });\n    }\n    buildErrorCallbacks() {\n        let withErrorEmitted = (callback) => {\n            return (result) => {\n                if (result.error) {\n                    this.emit('error', { type: 'WebSocketError', error: result.error });\n                }\n                callback(result);\n            };\n        };\n        return {\n            tls_only: withErrorEmitted(() => {\n                this.usingTLS = true;\n                this.updateStrategy();\n                this.retryIn(0);\n            }),\n            refused: withErrorEmitted(() => {\n                this.disconnect();\n            }),\n            backoff: withErrorEmitted(() => {\n                this.retryIn(1000);\n            }),\n            retry: withErrorEmitted(() => {\n                this.retryIn(0);\n            }),\n        };\n    }\n    setConnection(connection) {\n        this.connection = connection;\n        for (var event in this.connectionCallbacks) {\n            this.connection.bind(event, this.connectionCallbacks[event]);\n        }\n        this.resetActivityCheck();\n    }\n    abandonConnection() {\n        if (!this.connection) {\n            return;\n        }\n        this.stopActivityCheck();\n        for (var event in this.connectionCallbacks) {\n            this.connection.unbind(event, this.connectionCallbacks[event]);\n        }\n        var connection = this.connection;\n        this.connection = null;\n        return connection;\n    }\n    updateState(newState, data) {\n        var previousState = this.state;\n        this.state = newState;\n        if (previousState !== newState) {\n            var newStateDescription = newState;\n            if (newStateDescription === 'connected') {\n                newStateDescription += ' with new socket ID ' + data.socket_id;\n            }\n            logger.debug('State changed', previousState + ' -> ' + newStateDescription);\n            this.timeline.info({ state: newState, params: data });\n            this.emit('state_change', { previous: previousState, current: newState });\n            this.emit(newState, data);\n        }\n    }\n    shouldRetry() {\n        return this.state === 'connecting' || this.state === 'connected';\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/channels/channels.ts\n\n\n\n\nclass channels_Channels {\n    constructor() {\n        this.channels = {};\n    }\n    add(name, pusher) {\n        if (!this.channels[name]) {\n            this.channels[name] = createChannel(name, pusher);\n        }\n        return this.channels[name];\n    }\n    all() {\n        return values(this.channels);\n    }\n    find(name) {\n        return this.channels[name];\n    }\n    remove(name) {\n        var channel = this.channels[name];\n        delete this.channels[name];\n        return channel;\n    }\n    disconnect() {\n        objectApply(this.channels, function (channel) {\n            channel.disconnect();\n        });\n    }\n}\nfunction createChannel(name, pusher) {\n    if (name.indexOf('private-encrypted-') === 0) {\n        if (pusher.config.nacl) {\n            return factory.createEncryptedChannel(name, pusher, pusher.config.nacl);\n        }\n        let errMsg = 'Tried to subscribe to a private-encrypted- channel but no nacl implementation available';\n        let suffix = url_store.buildLogSuffix('encryptedChannelSupport');\n        throw new UnsupportedFeature(`${errMsg}. ${suffix}`);\n    }\n    else if (name.indexOf('private-') === 0) {\n        return factory.createPrivateChannel(name, pusher);\n    }\n    else if (name.indexOf('presence-') === 0) {\n        return factory.createPresenceChannel(name, pusher);\n    }\n    else if (name.indexOf('#') === 0) {\n        throw new BadChannelName('Cannot create a channel with name \"' + name + '\".');\n    }\n    else {\n        return factory.createChannel(name, pusher);\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/utils/factory.ts\n\n\n\n\n\n\n\n\n\nvar Factory = {\n    createChannels() {\n        return new channels_Channels();\n    },\n    createConnectionManager(key, options) {\n        return new connection_manager_ConnectionManager(key, options);\n    },\n    createChannel(name, pusher) {\n        return new channel_Channel(name, pusher);\n    },\n    createPrivateChannel(name, pusher) {\n        return new private_channel_PrivateChannel(name, pusher);\n    },\n    createPresenceChannel(name, pusher) {\n        return new presence_channel_PresenceChannel(name, pusher);\n    },\n    createEncryptedChannel(name, pusher, nacl) {\n        return new encrypted_channel_EncryptedChannel(name, pusher, nacl);\n    },\n    createTimelineSender(timeline, options) {\n        return new timeline_sender_TimelineSender(timeline, options);\n    },\n    createHandshake(transport, callback) {\n        return new handshake_Handshake(transport, callback);\n    },\n    createAssistantToTheTransportManager(manager, transport, options) {\n        return new assistant_to_the_transport_manager_AssistantToTheTransportManager(manager, transport, options);\n    },\n};\n/* harmony default export */ var factory = (Factory);\n\n// CONCATENATED MODULE: ./src/core/transports/transport_manager.ts\n\nclass transport_manager_TransportManager {\n    constructor(options) {\n        this.options = options || {};\n        this.livesLeft = this.options.lives || Infinity;\n    }\n    getAssistant(transport) {\n        return factory.createAssistantToTheTransportManager(this, transport, {\n            minPingDelay: this.options.minPingDelay,\n            maxPingDelay: this.options.maxPingDelay,\n        });\n    }\n    isAlive() {\n        return this.livesLeft > 0;\n    }\n    reportDeath() {\n        this.livesLeft -= 1;\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/strategies/sequential_strategy.ts\n\n\n\nclass sequential_strategy_SequentialStrategy {\n    constructor(strategies, options) {\n        this.strategies = strategies;\n        this.loop = Boolean(options.loop);\n        this.failFast = Boolean(options.failFast);\n        this.timeout = options.timeout;\n        this.timeoutLimit = options.timeoutLimit;\n    }\n    isSupported() {\n        return any(this.strategies, util.method('isSupported'));\n    }\n    connect(minPriority, callback) {\n        var strategies = this.strategies;\n        var current = 0;\n        var timeout = this.timeout;\n        var runner = null;\n        var tryNextStrategy = (error, handshake) => {\n            if (handshake) {\n                callback(null, handshake);\n            }\n            else {\n                current = current + 1;\n                if (this.loop) {\n                    current = current % strategies.length;\n                }\n                if (current < strategies.length) {\n                    if (timeout) {\n                        timeout = timeout * 2;\n                        if (this.timeoutLimit) {\n                            timeout = Math.min(timeout, this.timeoutLimit);\n                        }\n                    }\n                    runner = this.tryStrategy(strategies[current], minPriority, { timeout, failFast: this.failFast }, tryNextStrategy);\n                }\n                else {\n                    callback(true);\n                }\n            }\n        };\n        runner = this.tryStrategy(strategies[current], minPriority, { timeout: timeout, failFast: this.failFast }, tryNextStrategy);\n        return {\n            abort: function () {\n                runner.abort();\n            },\n            forceMinPriority: function (p) {\n                minPriority = p;\n                if (runner) {\n                    runner.forceMinPriority(p);\n                }\n            },\n        };\n    }\n    tryStrategy(strategy, minPriority, options, callback) {\n        var timer = null;\n        var runner = null;\n        if (options.timeout > 0) {\n            timer = new timers_OneOffTimer(options.timeout, function () {\n                runner.abort();\n                callback(true);\n            });\n        }\n        runner = strategy.connect(minPriority, function (error, handshake) {\n            if (error && timer && timer.isRunning() && !options.failFast) {\n                return;\n            }\n            if (timer) {\n                timer.ensureAborted();\n            }\n            callback(error, handshake);\n        });\n        return {\n            abort: function () {\n                if (timer) {\n                    timer.ensureAborted();\n                }\n                runner.abort();\n            },\n            forceMinPriority: function (p) {\n                runner.forceMinPriority(p);\n            },\n        };\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/strategies/best_connected_ever_strategy.ts\n\n\nclass best_connected_ever_strategy_BestConnectedEverStrategy {\n    constructor(strategies) {\n        this.strategies = strategies;\n    }\n    isSupported() {\n        return any(this.strategies, util.method('isSupported'));\n    }\n    connect(minPriority, callback) {\n        return connect(this.strategies, minPriority, function (i, runners) {\n            return function (error, handshake) {\n                runners[i].error = error;\n                if (error) {\n                    if (allRunnersFailed(runners)) {\n                        callback(true);\n                    }\n                    return;\n                }\n                apply(runners, function (runner) {\n                    runner.forceMinPriority(handshake.transport.priority);\n                });\n                callback(null, handshake);\n            };\n        });\n    }\n}\nfunction connect(strategies, minPriority, callbackBuilder) {\n    var runners = map(strategies, function (strategy, i, _, rs) {\n        return strategy.connect(minPriority, callbackBuilder(i, rs));\n    });\n    return {\n        abort: function () {\n            apply(runners, abortRunner);\n        },\n        forceMinPriority: function (p) {\n            apply(runners, function (runner) {\n                runner.forceMinPriority(p);\n            });\n        },\n    };\n}\nfunction allRunnersFailed(runners) {\n    return collections_all(runners, function (runner) {\n        return Boolean(runner.error);\n    });\n}\nfunction abortRunner(runner) {\n    if (!runner.error && !runner.aborted) {\n        runner.abort();\n        runner.aborted = true;\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/strategies/websocket_prioritized_cached_strategy.ts\n\n\n\n\nclass websocket_prioritized_cached_strategy_WebSocketPrioritizedCachedStrategy {\n    constructor(strategy, transports, options) {\n        this.strategy = strategy;\n        this.transports = transports;\n        this.ttl = options.ttl || 1800 * 1000;\n        this.usingTLS = options.useTLS;\n        this.timeline = options.timeline;\n    }\n    isSupported() {\n        return this.strategy.isSupported();\n    }\n    connect(minPriority, callback) {\n        var usingTLS = this.usingTLS;\n        var info = fetchTransportCache(usingTLS);\n        var cacheSkipCount = info && info.cacheSkipCount ? info.cacheSkipCount : 0;\n        var strategies = [this.strategy];\n        if (info && info.timestamp + this.ttl >= util.now()) {\n            var transport = this.transports[info.transport];\n            if (transport) {\n                if (['ws', 'wss'].includes(info.transport) || cacheSkipCount > 3) {\n                    this.timeline.info({\n                        cached: true,\n                        transport: info.transport,\n                        latency: info.latency,\n                    });\n                    strategies.push(new sequential_strategy_SequentialStrategy([transport], {\n                        timeout: info.latency * 2 + 1000,\n                        failFast: true,\n                    }));\n                }\n                else {\n                    cacheSkipCount++;\n                }\n            }\n        }\n        var startTimestamp = util.now();\n        var runner = strategies\n            .pop()\n            .connect(minPriority, function cb(error, handshake) {\n            if (error) {\n                flushTransportCache(usingTLS);\n                if (strategies.length > 0) {\n                    startTimestamp = util.now();\n                    runner = strategies.pop().connect(minPriority, cb);\n                }\n                else {\n                    callback(error);\n                }\n            }\n            else {\n                storeTransportCache(usingTLS, handshake.transport.name, util.now() - startTimestamp, cacheSkipCount);\n                callback(null, handshake);\n            }\n        });\n        return {\n            abort: function () {\n                runner.abort();\n            },\n            forceMinPriority: function (p) {\n                minPriority = p;\n                if (runner) {\n                    runner.forceMinPriority(p);\n                }\n            },\n        };\n    }\n}\nfunction getTransportCacheKey(usingTLS) {\n    return 'pusherTransport' + (usingTLS ? 'TLS' : 'NonTLS');\n}\nfunction fetchTransportCache(usingTLS) {\n    var storage = runtime.getLocalStorage();\n    if (storage) {\n        try {\n            var serializedCache = storage[getTransportCacheKey(usingTLS)];\n            if (serializedCache) {\n                return JSON.parse(serializedCache);\n            }\n        }\n        catch (e) {\n            flushTransportCache(usingTLS);\n        }\n    }\n    return null;\n}\nfunction storeTransportCache(usingTLS, transport, latency, cacheSkipCount) {\n    var storage = runtime.getLocalStorage();\n    if (storage) {\n        try {\n            storage[getTransportCacheKey(usingTLS)] = safeJSONStringify({\n                timestamp: util.now(),\n                transport: transport,\n                latency: latency,\n                cacheSkipCount: cacheSkipCount,\n            });\n        }\n        catch (e) {\n        }\n    }\n}\nfunction flushTransportCache(usingTLS) {\n    var storage = runtime.getLocalStorage();\n    if (storage) {\n        try {\n            delete storage[getTransportCacheKey(usingTLS)];\n        }\n        catch (e) {\n        }\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/strategies/delayed_strategy.ts\n\nclass delayed_strategy_DelayedStrategy {\n    constructor(strategy, { delay: number }) {\n        this.strategy = strategy;\n        this.options = { delay: number };\n    }\n    isSupported() {\n        return this.strategy.isSupported();\n    }\n    connect(minPriority, callback) {\n        var strategy = this.strategy;\n        var runner;\n        var timer = new timers_OneOffTimer(this.options.delay, function () {\n            runner = strategy.connect(minPriority, callback);\n        });\n        return {\n            abort: function () {\n                timer.ensureAborted();\n                if (runner) {\n                    runner.abort();\n                }\n            },\n            forceMinPriority: function (p) {\n                minPriority = p;\n                if (runner) {\n                    runner.forceMinPriority(p);\n                }\n            },\n        };\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/strategies/if_strategy.ts\nclass IfStrategy {\n    constructor(test, trueBranch, falseBranch) {\n        this.test = test;\n        this.trueBranch = trueBranch;\n        this.falseBranch = falseBranch;\n    }\n    isSupported() {\n        var branch = this.test() ? this.trueBranch : this.falseBranch;\n        return branch.isSupported();\n    }\n    connect(minPriority, callback) {\n        var branch = this.test() ? this.trueBranch : this.falseBranch;\n        return branch.connect(minPriority, callback);\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/strategies/first_connected_strategy.ts\nclass FirstConnectedStrategy {\n    constructor(strategy) {\n        this.strategy = strategy;\n    }\n    isSupported() {\n        return this.strategy.isSupported();\n    }\n    connect(minPriority, callback) {\n        var runner = this.strategy.connect(minPriority, function (error, handshake) {\n            if (handshake) {\n                runner.abort();\n            }\n            callback(error, handshake);\n        });\n        return runner;\n    }\n}\n\n// CONCATENATED MODULE: ./src/runtimes/web/default_strategy.ts\n\n\n\n\n\n\n\nfunction testSupportsStrategy(strategy) {\n    return function () {\n        return strategy.isSupported();\n    };\n}\nvar getDefaultStrategy = function (config, baseOptions, defineTransport) {\n    var definedTransports = {};\n    function defineTransportStrategy(name, type, priority, options, manager) {\n        var transport = defineTransport(config, name, type, priority, options, manager);\n        definedTransports[name] = transport;\n        return transport;\n    }\n    var ws_options = Object.assign({}, baseOptions, {\n        hostNonTLS: config.wsHost + ':' + config.wsPort,\n        hostTLS: config.wsHost + ':' + config.wssPort,\n        httpPath: config.wsPath,\n    });\n    var wss_options = Object.assign({}, ws_options, {\n        useTLS: true,\n    });\n    var sockjs_options = Object.assign({}, baseOptions, {\n        hostNonTLS: config.httpHost + ':' + config.httpPort,\n        hostTLS: config.httpHost + ':' + config.httpsPort,\n        httpPath: config.httpPath,\n    });\n    var timeouts = {\n        loop: true,\n        timeout: 15000,\n        timeoutLimit: 60000,\n    };\n    var ws_manager = new transport_manager_TransportManager({\n        minPingDelay: 10000,\n        maxPingDelay: config.activityTimeout,\n    });\n    var streaming_manager = new transport_manager_TransportManager({\n        lives: 2,\n        minPingDelay: 10000,\n        maxPingDelay: config.activityTimeout,\n    });\n    var ws_transport = defineTransportStrategy('ws', 'ws', 3, ws_options, ws_manager);\n    var wss_transport = defineTransportStrategy('wss', 'ws', 3, wss_options, ws_manager);\n    var sockjs_transport = defineTransportStrategy('sockjs', 'sockjs', 1, sockjs_options);\n    var xhr_streaming_transport = defineTransportStrategy('xhr_streaming', 'xhr_streaming', 1, sockjs_options, streaming_manager);\n    var xdr_streaming_transport = defineTransportStrategy('xdr_streaming', 'xdr_streaming', 1, sockjs_options, streaming_manager);\n    var xhr_polling_transport = defineTransportStrategy('xhr_polling', 'xhr_polling', 1, sockjs_options);\n    var xdr_polling_transport = defineTransportStrategy('xdr_polling', 'xdr_polling', 1, sockjs_options);\n    var ws_loop = new sequential_strategy_SequentialStrategy([ws_transport], timeouts);\n    var wss_loop = new sequential_strategy_SequentialStrategy([wss_transport], timeouts);\n    var sockjs_loop = new sequential_strategy_SequentialStrategy([sockjs_transport], timeouts);\n    var streaming_loop = new sequential_strategy_SequentialStrategy([\n        new IfStrategy(testSupportsStrategy(xhr_streaming_transport), xhr_streaming_transport, xdr_streaming_transport),\n    ], timeouts);\n    var polling_loop = new sequential_strategy_SequentialStrategy([\n        new IfStrategy(testSupportsStrategy(xhr_polling_transport), xhr_polling_transport, xdr_polling_transport),\n    ], timeouts);\n    var http_loop = new sequential_strategy_SequentialStrategy([\n        new IfStrategy(testSupportsStrategy(streaming_loop), new best_connected_ever_strategy_BestConnectedEverStrategy([\n            streaming_loop,\n            new delayed_strategy_DelayedStrategy(polling_loop, { delay: 4000 }),\n        ]), polling_loop),\n    ], timeouts);\n    var http_fallback_loop = new IfStrategy(testSupportsStrategy(http_loop), http_loop, sockjs_loop);\n    var wsStrategy;\n    if (baseOptions.useTLS) {\n        wsStrategy = new best_connected_ever_strategy_BestConnectedEverStrategy([\n            ws_loop,\n            new delayed_strategy_DelayedStrategy(http_fallback_loop, { delay: 2000 }),\n        ]);\n    }\n    else {\n        wsStrategy = new best_connected_ever_strategy_BestConnectedEverStrategy([\n            ws_loop,\n            new delayed_strategy_DelayedStrategy(wss_loop, { delay: 2000 }),\n            new delayed_strategy_DelayedStrategy(http_fallback_loop, { delay: 5000 }),\n        ]);\n    }\n    return new websocket_prioritized_cached_strategy_WebSocketPrioritizedCachedStrategy(new FirstConnectedStrategy(new IfStrategy(testSupportsStrategy(ws_transport), wsStrategy, http_fallback_loop)), definedTransports, {\n        ttl: 1800000,\n        timeline: baseOptions.timeline,\n        useTLS: baseOptions.useTLS,\n    });\n};\n/* harmony default export */ var default_strategy = (getDefaultStrategy);\n\n// CONCATENATED MODULE: ./src/runtimes/web/transports/transport_connection_initializer.ts\n\n/* harmony default export */ var transport_connection_initializer = (function () {\n    var self = this;\n    self.timeline.info(self.buildTimelineMessage({\n        transport: self.name + (self.options.useTLS ? 's' : ''),\n    }));\n    if (self.hooks.isInitialized()) {\n        self.changeState('initialized');\n    }\n    else if (self.hooks.file) {\n        self.changeState('initializing');\n        Dependencies.load(self.hooks.file, { useTLS: self.options.useTLS }, function (error, callback) {\n            if (self.hooks.isInitialized()) {\n                self.changeState('initialized');\n                callback(true);\n            }\n            else {\n                if (error) {\n                    self.onError(error);\n                }\n                self.onClose();\n                callback(false);\n            }\n        });\n    }\n    else {\n        self.onClose();\n    }\n});\n\n// CONCATENATED MODULE: ./src/runtimes/web/http/http_xdomain_request.ts\n\nvar http_xdomain_request_hooks = {\n    getRequest: function (socket) {\n        var xdr = new window.XDomainRequest();\n        xdr.ontimeout = function () {\n            socket.emit('error', new RequestTimedOut());\n            socket.close();\n        };\n        xdr.onerror = function (e) {\n            socket.emit('error', e);\n            socket.close();\n        };\n        xdr.onprogress = function () {\n            if (xdr.responseText && xdr.responseText.length > 0) {\n                socket.onChunk(200, xdr.responseText);\n            }\n        };\n        xdr.onload = function () {\n            if (xdr.responseText && xdr.responseText.length > 0) {\n                socket.onChunk(200, xdr.responseText);\n            }\n            socket.emit('finished', 200);\n            socket.close();\n        };\n        return xdr;\n    },\n    abortRequest: function (xdr) {\n        xdr.ontimeout = xdr.onerror = xdr.onprogress = xdr.onload = null;\n        xdr.abort();\n    },\n};\n/* harmony default export */ var http_xdomain_request = (http_xdomain_request_hooks);\n\n// CONCATENATED MODULE: ./src/core/http/http_request.ts\n\n\nconst MAX_BUFFER_LENGTH = 256 * 1024;\nclass http_request_HTTPRequest extends dispatcher_Dispatcher {\n    constructor(hooks, method, url) {\n        super();\n        this.hooks = hooks;\n        this.method = method;\n        this.url = url;\n    }\n    start(payload) {\n        this.position = 0;\n        this.xhr = this.hooks.getRequest(this);\n        this.unloader = () => {\n            this.close();\n        };\n        runtime.addUnloadListener(this.unloader);\n        this.xhr.open(this.method, this.url, true);\n        if (this.xhr.setRequestHeader) {\n            this.xhr.setRequestHeader('Content-Type', 'application/json');\n        }\n        this.xhr.send(payload);\n    }\n    close() {\n        if (this.unloader) {\n            runtime.removeUnloadListener(this.unloader);\n            this.unloader = null;\n        }\n        if (this.xhr) {\n            this.hooks.abortRequest(this.xhr);\n            this.xhr = null;\n        }\n    }\n    onChunk(status, data) {\n        while (true) {\n            var chunk = this.advanceBuffer(data);\n            if (chunk) {\n                this.emit('chunk', { status: status, data: chunk });\n            }\n            else {\n                break;\n            }\n        }\n        if (this.isBufferTooLong(data)) {\n            this.emit('buffer_too_long');\n        }\n    }\n    advanceBuffer(buffer) {\n        var unreadData = buffer.slice(this.position);\n        var endOfLinePosition = unreadData.indexOf('\\n');\n        if (endOfLinePosition !== -1) {\n            this.position += endOfLinePosition + 1;\n            return unreadData.slice(0, endOfLinePosition);\n        }\n        else {\n            return null;\n        }\n    }\n    isBufferTooLong(buffer) {\n        return this.position === buffer.length && buffer.length > MAX_BUFFER_LENGTH;\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/http/state.ts\nvar State;\n(function (State) {\n    State[State[\"CONNECTING\"] = 0] = \"CONNECTING\";\n    State[State[\"OPEN\"] = 1] = \"OPEN\";\n    State[State[\"CLOSED\"] = 3] = \"CLOSED\";\n})(State || (State = {}));\n/* harmony default export */ var state = (State);\n\n// CONCATENATED MODULE: ./src/core/http/http_socket.ts\n\n\n\nvar autoIncrement = 1;\nclass http_socket_HTTPSocket {\n    constructor(hooks, url) {\n        this.hooks = hooks;\n        this.session = randomNumber(1000) + '/' + randomString(8);\n        this.location = getLocation(url);\n        this.readyState = state.CONNECTING;\n        this.openStream();\n    }\n    send(payload) {\n        return this.sendRaw(JSON.stringify([payload]));\n    }\n    ping() {\n        this.hooks.sendHeartbeat(this);\n    }\n    close(code, reason) {\n        this.onClose(code, reason, true);\n    }\n    sendRaw(payload) {\n        if (this.readyState === state.OPEN) {\n            try {\n                runtime.createSocketRequest('POST', getUniqueURL(getSendURL(this.location, this.session))).start(payload);\n                return true;\n            }\n            catch (e) {\n                return false;\n            }\n        }\n        else {\n            return false;\n        }\n    }\n    reconnect() {\n        this.closeStream();\n        this.openStream();\n    }\n    onClose(code, reason, wasClean) {\n        this.closeStream();\n        this.readyState = state.CLOSED;\n        if (this.onclose) {\n            this.onclose({\n                code: code,\n                reason: reason,\n                wasClean: wasClean,\n            });\n        }\n    }\n    onChunk(chunk) {\n        if (chunk.status !== 200) {\n            return;\n        }\n        if (this.readyState === state.OPEN) {\n            this.onActivity();\n        }\n        var payload;\n        var type = chunk.data.slice(0, 1);\n        switch (type) {\n            case 'o':\n                payload = JSON.parse(chunk.data.slice(1) || '{}');\n                this.onOpen(payload);\n                break;\n            case 'a':\n                payload = JSON.parse(chunk.data.slice(1) || '[]');\n                for (var i = 0; i < payload.length; i++) {\n                    this.onEvent(payload[i]);\n                }\n                break;\n            case 'm':\n                payload = JSON.parse(chunk.data.slice(1) || 'null');\n                this.onEvent(payload);\n                break;\n            case 'h':\n                this.hooks.onHeartbeat(this);\n                break;\n            case 'c':\n                payload = JSON.parse(chunk.data.slice(1) || '[]');\n                this.onClose(payload[0], payload[1], true);\n                break;\n        }\n    }\n    onOpen(options) {\n        if (this.readyState === state.CONNECTING) {\n            if (options && options.hostname) {\n                this.location.base = replaceHost(this.location.base, options.hostname);\n            }\n            this.readyState = state.OPEN;\n            if (this.onopen) {\n                this.onopen();\n            }\n        }\n        else {\n            this.onClose(1006, 'Server lost session', true);\n        }\n    }\n    onEvent(event) {\n        if (this.readyState === state.OPEN && this.onmessage) {\n            this.onmessage({ data: event });\n        }\n    }\n    onActivity() {\n        if (this.onactivity) {\n            this.onactivity();\n        }\n    }\n    onError(error) {\n        if (this.onerror) {\n            this.onerror(error);\n        }\n    }\n    openStream() {\n        this.stream = runtime.createSocketRequest('POST', getUniqueURL(this.hooks.getReceiveURL(this.location, this.session)));\n        this.stream.bind('chunk', (chunk) => {\n            this.onChunk(chunk);\n        });\n        this.stream.bind('finished', (status) => {\n            this.hooks.onFinished(this, status);\n        });\n        this.stream.bind('buffer_too_long', () => {\n            this.reconnect();\n        });\n        try {\n            this.stream.start();\n        }\n        catch (error) {\n            util.defer(() => {\n                this.onError(error);\n                this.onClose(1006, 'Could not start streaming', false);\n            });\n        }\n    }\n    closeStream() {\n        if (this.stream) {\n            this.stream.unbind_all();\n            this.stream.close();\n            this.stream = null;\n        }\n    }\n}\nfunction getLocation(url) {\n    var parts = /([^\\?]*)\\/*(\\??.*)/.exec(url);\n    return {\n        base: parts[1],\n        queryString: parts[2],\n    };\n}\nfunction getSendURL(url, session) {\n    return url.base + '/' + session + '/xhr_send';\n}\nfunction getUniqueURL(url) {\n    var separator = url.indexOf('?') === -1 ? '?' : '&';\n    return url + separator + 't=' + +new Date() + '&n=' + autoIncrement++;\n}\nfunction replaceHost(url, hostname) {\n    var urlParts = /(https?:\\/\\/)([^\\/:]+)((\\/|:)?.*)/.exec(url);\n    return urlParts[1] + hostname + urlParts[3];\n}\nfunction randomNumber(max) {\n    return runtime.randomInt(max);\n}\nfunction randomString(length) {\n    var result = [];\n    for (var i = 0; i < length; i++) {\n        result.push(randomNumber(32).toString(32));\n    }\n    return result.join('');\n}\n/* harmony default export */ var http_socket = (http_socket_HTTPSocket);\n\n// CONCATENATED MODULE: ./src/core/http/http_streaming_socket.ts\nvar http_streaming_socket_hooks = {\n    getReceiveURL: function (url, session) {\n        return url.base + '/' + session + '/xhr_streaming' + url.queryString;\n    },\n    onHeartbeat: function (socket) {\n        socket.sendRaw('[]');\n    },\n    sendHeartbeat: function (socket) {\n        socket.sendRaw('[]');\n    },\n    onFinished: function (socket, status) {\n        socket.onClose(1006, 'Connection interrupted (' + status + ')', false);\n    },\n};\n/* harmony default export */ var http_streaming_socket = (http_streaming_socket_hooks);\n\n// CONCATENATED MODULE: ./src/core/http/http_polling_socket.ts\nvar http_polling_socket_hooks = {\n    getReceiveURL: function (url, session) {\n        return url.base + '/' + session + '/xhr' + url.queryString;\n    },\n    onHeartbeat: function () {\n    },\n    sendHeartbeat: function (socket) {\n        socket.sendRaw('[]');\n    },\n    onFinished: function (socket, status) {\n        if (status === 200) {\n            socket.reconnect();\n        }\n        else {\n            socket.onClose(1006, 'Connection interrupted (' + status + ')', false);\n        }\n    },\n};\n/* harmony default export */ var http_polling_socket = (http_polling_socket_hooks);\n\n// CONCATENATED MODULE: ./src/runtimes/isomorphic/http/http_xhr_request.ts\n\nvar http_xhr_request_hooks = {\n    getRequest: function (socket) {\n        var Constructor = runtime.getXHRAPI();\n        var xhr = new Constructor();\n        xhr.onreadystatechange = xhr.onprogress = function () {\n            switch (xhr.readyState) {\n                case 3:\n                    if (xhr.responseText && xhr.responseText.length > 0) {\n                        socket.onChunk(xhr.status, xhr.responseText);\n                    }\n                    break;\n                case 4:\n                    if (xhr.responseText && xhr.responseText.length > 0) {\n                        socket.onChunk(xhr.status, xhr.responseText);\n                    }\n                    socket.emit('finished', xhr.status);\n                    socket.close();\n                    break;\n            }\n        };\n        return xhr;\n    },\n    abortRequest: function (xhr) {\n        xhr.onreadystatechange = null;\n        xhr.abort();\n    },\n};\n/* harmony default export */ var http_xhr_request = (http_xhr_request_hooks);\n\n// CONCATENATED MODULE: ./src/runtimes/isomorphic/http/http.ts\n\n\n\n\n\nvar HTTP = {\n    createStreamingSocket(url) {\n        return this.createSocket(http_streaming_socket, url);\n    },\n    createPollingSocket(url) {\n        return this.createSocket(http_polling_socket, url);\n    },\n    createSocket(hooks, url) {\n        return new http_socket(hooks, url);\n    },\n    createXHR(method, url) {\n        return this.createRequest(http_xhr_request, method, url);\n    },\n    createRequest(hooks, method, url) {\n        return new http_request_HTTPRequest(hooks, method, url);\n    },\n};\n/* harmony default export */ var http_http = (HTTP);\n\n// CONCATENATED MODULE: ./src/runtimes/web/http/http.ts\n\n\nhttp_http.createXDR = function (method, url) {\n    return this.createRequest(http_xdomain_request, method, url);\n};\n/* harmony default export */ var web_http_http = (http_http);\n\n// CONCATENATED MODULE: ./src/runtimes/web/runtime.ts\n\n\n\n\n\n\n\n\n\n\n\n\nvar Runtime = {\n    nextAuthCallbackID: 1,\n    auth_callbacks: {},\n    ScriptReceivers: ScriptReceivers,\n    DependenciesReceivers: DependenciesReceivers,\n    getDefaultStrategy: default_strategy,\n    Transports: transports_transports,\n    transportConnectionInitializer: transport_connection_initializer,\n    HTTPFactory: web_http_http,\n    TimelineTransport: jsonp_timeline,\n    getXHRAPI() {\n        return window.XMLHttpRequest;\n    },\n    getWebSocketAPI() {\n        return window.WebSocket || window.MozWebSocket;\n    },\n    setup(PusherClass) {\n        window.Pusher = PusherClass;\n        var initializeOnDocumentBody = () => {\n            this.onDocumentBody(PusherClass.ready);\n        };\n        if (!window.JSON) {\n            Dependencies.load('json2', {}, initializeOnDocumentBody);\n        }\n        else {\n            initializeOnDocumentBody();\n        }\n    },\n    getDocument() {\n        return document;\n    },\n    getProtocol() {\n        return this.getDocument().location.protocol;\n    },\n    getAuthorizers() {\n        return { ajax: xhr_auth, jsonp: jsonp_auth };\n    },\n    onDocumentBody(callback) {\n        if (document.body) {\n            callback();\n        }\n        else {\n            setTimeout(() => {\n                this.onDocumentBody(callback);\n            }, 0);\n        }\n    },\n    createJSONPRequest(url, data) {\n        return new jsonp_request_JSONPRequest(url, data);\n    },\n    createScriptRequest(src) {\n        return new ScriptRequest(src);\n    },\n    getLocalStorage() {\n        try {\n            return window.localStorage;\n        }\n        catch (e) {\n            return undefined;\n        }\n    },\n    createXHR() {\n        if (this.getXHRAPI()) {\n            return this.createXMLHttpRequest();\n        }\n        else {\n            return this.createMicrosoftXHR();\n        }\n    },\n    createXMLHttpRequest() {\n        var Constructor = this.getXHRAPI();\n        return new Constructor();\n    },\n    createMicrosoftXHR() {\n        return new ActiveXObject('Microsoft.XMLHTTP');\n    },\n    getNetwork() {\n        return net_info_Network;\n    },\n    createWebSocket(url) {\n        var Constructor = this.getWebSocketAPI();\n        return new Constructor(url);\n    },\n    createSocketRequest(method, url) {\n        if (this.isXHRSupported()) {\n            return this.HTTPFactory.createXHR(method, url);\n        }\n        else if (this.isXDRSupported(url.indexOf('https:') === 0)) {\n            return this.HTTPFactory.createXDR(method, url);\n        }\n        else {\n            throw 'Cross-origin HTTP requests are not supported';\n        }\n    },\n    isXHRSupported() {\n        var Constructor = this.getXHRAPI();\n        return (Boolean(Constructor) && new Constructor().withCredentials !== undefined);\n    },\n    isXDRSupported(useTLS) {\n        var protocol = useTLS ? 'https:' : 'http:';\n        var documentProtocol = this.getProtocol();\n        return (Boolean(window['XDomainRequest']) && documentProtocol === protocol);\n    },\n    addUnloadListener(listener) {\n        if (window.addEventListener !== undefined) {\n            window.addEventListener('unload', listener, false);\n        }\n        else if (window.attachEvent !== undefined) {\n            window.attachEvent('onunload', listener);\n        }\n    },\n    removeUnloadListener(listener) {\n        if (window.addEventListener !== undefined) {\n            window.removeEventListener('unload', listener, false);\n        }\n        else if (window.detachEvent !== undefined) {\n            window.detachEvent('onunload', listener);\n        }\n    },\n    randomInt(max) {\n        const random = function () {\n            const crypto = window.crypto || window['msCrypto'];\n            const random = crypto.getRandomValues(new Uint32Array(1))[0];\n            return random / Math.pow(2, 32);\n        };\n        return Math.floor(random() * max);\n    },\n};\n/* harmony default export */ var runtime = (Runtime);\n\n// CONCATENATED MODULE: ./src/core/timeline/level.ts\nvar TimelineLevel;\n(function (TimelineLevel) {\n    TimelineLevel[TimelineLevel[\"ERROR\"] = 3] = \"ERROR\";\n    TimelineLevel[TimelineLevel[\"INFO\"] = 6] = \"INFO\";\n    TimelineLevel[TimelineLevel[\"DEBUG\"] = 7] = \"DEBUG\";\n})(TimelineLevel || (TimelineLevel = {}));\n/* harmony default export */ var timeline_level = (TimelineLevel);\n\n// CONCATENATED MODULE: ./src/core/timeline/timeline.ts\n\n\n\nclass timeline_Timeline {\n    constructor(key, session, options) {\n        this.key = key;\n        this.session = session;\n        this.events = [];\n        this.options = options || {};\n        this.sent = 0;\n        this.uniqueID = 0;\n    }\n    log(level, event) {\n        if (level <= this.options.level) {\n            this.events.push(extend({}, event, { timestamp: util.now() }));\n            if (this.options.limit && this.events.length > this.options.limit) {\n                this.events.shift();\n            }\n        }\n    }\n    error(event) {\n        this.log(timeline_level.ERROR, event);\n    }\n    info(event) {\n        this.log(timeline_level.INFO, event);\n    }\n    debug(event) {\n        this.log(timeline_level.DEBUG, event);\n    }\n    isEmpty() {\n        return this.events.length === 0;\n    }\n    send(sendfn, callback) {\n        var data = extend({\n            session: this.session,\n            bundle: this.sent + 1,\n            key: this.key,\n            lib: 'js',\n            version: this.options.version,\n            cluster: this.options.cluster,\n            features: this.options.features,\n            timeline: this.events,\n        }, this.options.params);\n        this.events = [];\n        sendfn(data, (error, result) => {\n            if (!error) {\n                this.sent++;\n            }\n            if (callback) {\n                callback(error, result);\n            }\n        });\n        return true;\n    }\n    generateUniqueID() {\n        this.uniqueID++;\n        return this.uniqueID;\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/strategies/transport_strategy.ts\n\n\n\n\nclass transport_strategy_TransportStrategy {\n    constructor(name, priority, transport, options) {\n        this.name = name;\n        this.priority = priority;\n        this.transport = transport;\n        this.options = options || {};\n    }\n    isSupported() {\n        return this.transport.isSupported({\n            useTLS: this.options.useTLS,\n        });\n    }\n    connect(minPriority, callback) {\n        if (!this.isSupported()) {\n            return failAttempt(new UnsupportedStrategy(), callback);\n        }\n        else if (this.priority < minPriority) {\n            return failAttempt(new TransportPriorityTooLow(), callback);\n        }\n        var connected = false;\n        var transport = this.transport.createConnection(this.name, this.priority, this.options.key, this.options);\n        var handshake = null;\n        var onInitialized = function () {\n            transport.unbind('initialized', onInitialized);\n            transport.connect();\n        };\n        var onOpen = function () {\n            handshake = factory.createHandshake(transport, function (result) {\n                connected = true;\n                unbindListeners();\n                callback(null, result);\n            });\n        };\n        var onError = function (error) {\n            unbindListeners();\n            callback(error);\n        };\n        var onClosed = function () {\n            unbindListeners();\n            var serializedTransport;\n            serializedTransport = safeJSONStringify(transport);\n            callback(new TransportClosed(serializedTransport));\n        };\n        var unbindListeners = function () {\n            transport.unbind('initialized', onInitialized);\n            transport.unbind('open', onOpen);\n            transport.unbind('error', onError);\n            transport.unbind('closed', onClosed);\n        };\n        transport.bind('initialized', onInitialized);\n        transport.bind('open', onOpen);\n        transport.bind('error', onError);\n        transport.bind('closed', onClosed);\n        transport.initialize();\n        return {\n            abort: () => {\n                if (connected) {\n                    return;\n                }\n                unbindListeners();\n                if (handshake) {\n                    handshake.close();\n                }\n                else {\n                    transport.close();\n                }\n            },\n            forceMinPriority: (p) => {\n                if (connected) {\n                    return;\n                }\n                if (this.priority < p) {\n                    if (handshake) {\n                        handshake.close();\n                    }\n                    else {\n                        transport.close();\n                    }\n                }\n            },\n        };\n    }\n}\nfunction failAttempt(error, callback) {\n    util.defer(function () {\n        callback(error);\n    });\n    return {\n        abort: function () { },\n        forceMinPriority: function () { },\n    };\n}\n\n// CONCATENATED MODULE: ./src/core/strategies/strategy_builder.ts\n\n\n\n\n\nconst { Transports: strategy_builder_Transports } = runtime;\nvar strategy_builder_defineTransport = function (config, name, type, priority, options, manager) {\n    var transportClass = strategy_builder_Transports[type];\n    if (!transportClass) {\n        throw new UnsupportedTransport(type);\n    }\n    var enabled = (!config.enabledTransports ||\n        arrayIndexOf(config.enabledTransports, name) !== -1) &&\n        (!config.disabledTransports ||\n            arrayIndexOf(config.disabledTransports, name) === -1);\n    var transport;\n    if (enabled) {\n        options = Object.assign({ ignoreNullOrigin: config.ignoreNullOrigin }, options);\n        transport = new transport_strategy_TransportStrategy(name, priority, manager ? manager.getAssistant(transportClass) : transportClass, options);\n    }\n    else {\n        transport = strategy_builder_UnsupportedStrategy;\n    }\n    return transport;\n};\nvar strategy_builder_UnsupportedStrategy = {\n    isSupported: function () {\n        return false;\n    },\n    connect: function (_, callback) {\n        var deferred = util.defer(function () {\n            callback(new UnsupportedStrategy());\n        });\n        return {\n            abort: function () {\n                deferred.ensureAborted();\n            },\n            forceMinPriority: function () { },\n        };\n    },\n};\n\n// CONCATENATED MODULE: ./src/core/options.ts\n\nfunction validateOptions(options) {\n    if (options == null) {\n        throw 'You must pass an options object';\n    }\n    if (options.cluster == null) {\n        throw 'Options object must provide a cluster';\n    }\n    if ('disableStats' in options) {\n        logger.warn('The disableStats option is deprecated in favor of enableStats');\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/auth/user_authenticator.ts\n\n\nconst composeChannelQuery = (params, authOptions) => {\n    var query = 'socket_id=' + encodeURIComponent(params.socketId);\n    for (var key in authOptions.params) {\n        query +=\n            '&' +\n                encodeURIComponent(key) +\n                '=' +\n                encodeURIComponent(authOptions.params[key]);\n    }\n    if (authOptions.paramsProvider != null) {\n        let dynamicParams = authOptions.paramsProvider();\n        for (var key in dynamicParams) {\n            query +=\n                '&' +\n                    encodeURIComponent(key) +\n                    '=' +\n                    encodeURIComponent(dynamicParams[key]);\n        }\n    }\n    return query;\n};\nconst UserAuthenticator = (authOptions) => {\n    if (typeof runtime.getAuthorizers()[authOptions.transport] === 'undefined') {\n        throw `'${authOptions.transport}' is not a recognized auth transport`;\n    }\n    return (params, callback) => {\n        const query = composeChannelQuery(params, authOptions);\n        runtime.getAuthorizers()[authOptions.transport](runtime, query, authOptions, AuthRequestType.UserAuthentication, callback);\n    };\n};\n/* harmony default export */ var user_authenticator = (UserAuthenticator);\n\n// CONCATENATED MODULE: ./src/core/auth/channel_authorizer.ts\n\n\nconst channel_authorizer_composeChannelQuery = (params, authOptions) => {\n    var query = 'socket_id=' + encodeURIComponent(params.socketId);\n    query += '&channel_name=' + encodeURIComponent(params.channelName);\n    for (var key in authOptions.params) {\n        query +=\n            '&' +\n                encodeURIComponent(key) +\n                '=' +\n                encodeURIComponent(authOptions.params[key]);\n    }\n    if (authOptions.paramsProvider != null) {\n        let dynamicParams = authOptions.paramsProvider();\n        for (var key in dynamicParams) {\n            query +=\n                '&' +\n                    encodeURIComponent(key) +\n                    '=' +\n                    encodeURIComponent(dynamicParams[key]);\n        }\n    }\n    return query;\n};\nconst ChannelAuthorizer = (authOptions) => {\n    if (typeof runtime.getAuthorizers()[authOptions.transport] === 'undefined') {\n        throw `'${authOptions.transport}' is not a recognized auth transport`;\n    }\n    return (params, callback) => {\n        const query = channel_authorizer_composeChannelQuery(params, authOptions);\n        runtime.getAuthorizers()[authOptions.transport](runtime, query, authOptions, AuthRequestType.ChannelAuthorization, callback);\n    };\n};\n/* harmony default export */ var channel_authorizer = (ChannelAuthorizer);\n\n// CONCATENATED MODULE: ./src/core/auth/deprecated_channel_authorizer.ts\nconst ChannelAuthorizerProxy = (pusher, authOptions, channelAuthorizerGenerator) => {\n    const deprecatedAuthorizerOptions = {\n        authTransport: authOptions.transport,\n        authEndpoint: authOptions.endpoint,\n        auth: {\n            params: authOptions.params,\n            headers: authOptions.headers,\n        },\n    };\n    return (params, callback) => {\n        const channel = pusher.channel(params.channelName);\n        const channelAuthorizer = channelAuthorizerGenerator(channel, deprecatedAuthorizerOptions);\n        channelAuthorizer.authorize(params.socketId, callback);\n    };\n};\n\n// CONCATENATED MODULE: ./src/core/config.ts\n\n\n\n\n\nfunction getConfig(opts, pusher) {\n    let config = {\n        activityTimeout: opts.activityTimeout || defaults.activityTimeout,\n        cluster: opts.cluster,\n        httpPath: opts.httpPath || defaults.httpPath,\n        httpPort: opts.httpPort || defaults.httpPort,\n        httpsPort: opts.httpsPort || defaults.httpsPort,\n        pongTimeout: opts.pongTimeout || defaults.pongTimeout,\n        statsHost: opts.statsHost || defaults.stats_host,\n        unavailableTimeout: opts.unavailableTimeout || defaults.unavailableTimeout,\n        wsPath: opts.wsPath || defaults.wsPath,\n        wsPort: opts.wsPort || defaults.wsPort,\n        wssPort: opts.wssPort || defaults.wssPort,\n        enableStats: getEnableStatsConfig(opts),\n        httpHost: getHttpHost(opts),\n        useTLS: shouldUseTLS(opts),\n        wsHost: getWebsocketHost(opts),\n        userAuthenticator: buildUserAuthenticator(opts),\n        channelAuthorizer: buildChannelAuthorizer(opts, pusher),\n    };\n    if ('disabledTransports' in opts)\n        config.disabledTransports = opts.disabledTransports;\n    if ('enabledTransports' in opts)\n        config.enabledTransports = opts.enabledTransports;\n    if ('ignoreNullOrigin' in opts)\n        config.ignoreNullOrigin = opts.ignoreNullOrigin;\n    if ('timelineParams' in opts)\n        config.timelineParams = opts.timelineParams;\n    if ('nacl' in opts) {\n        config.nacl = opts.nacl;\n    }\n    return config;\n}\nfunction getHttpHost(opts) {\n    if (opts.httpHost) {\n        return opts.httpHost;\n    }\n    if (opts.cluster) {\n        return `sockjs-${opts.cluster}.pusher.com`;\n    }\n    return defaults.httpHost;\n}\nfunction getWebsocketHost(opts) {\n    if (opts.wsHost) {\n        return opts.wsHost;\n    }\n    return getWebsocketHostFromCluster(opts.cluster);\n}\nfunction getWebsocketHostFromCluster(cluster) {\n    return `ws-${cluster}.pusher.com`;\n}\nfunction shouldUseTLS(opts) {\n    if (runtime.getProtocol() === 'https:') {\n        return true;\n    }\n    else if (opts.forceTLS === false) {\n        return false;\n    }\n    return true;\n}\nfunction getEnableStatsConfig(opts) {\n    if ('enableStats' in opts) {\n        return opts.enableStats;\n    }\n    if ('disableStats' in opts) {\n        return !opts.disableStats;\n    }\n    return false;\n}\nfunction buildUserAuthenticator(opts) {\n    const userAuthentication = Object.assign(Object.assign({}, defaults.userAuthentication), opts.userAuthentication);\n    if ('customHandler' in userAuthentication &&\n        userAuthentication['customHandler'] != null) {\n        return userAuthentication['customHandler'];\n    }\n    return user_authenticator(userAuthentication);\n}\nfunction buildChannelAuth(opts, pusher) {\n    let channelAuthorization;\n    if ('channelAuthorization' in opts) {\n        channelAuthorization = Object.assign(Object.assign({}, defaults.channelAuthorization), opts.channelAuthorization);\n    }\n    else {\n        channelAuthorization = {\n            transport: opts.authTransport || defaults.authTransport,\n            endpoint: opts.authEndpoint || defaults.authEndpoint,\n        };\n        if ('auth' in opts) {\n            if ('params' in opts.auth)\n                channelAuthorization.params = opts.auth.params;\n            if ('headers' in opts.auth)\n                channelAuthorization.headers = opts.auth.headers;\n        }\n        if ('authorizer' in opts)\n            channelAuthorization.customHandler = ChannelAuthorizerProxy(pusher, channelAuthorization, opts.authorizer);\n    }\n    return channelAuthorization;\n}\nfunction buildChannelAuthorizer(opts, pusher) {\n    const channelAuthorization = buildChannelAuth(opts, pusher);\n    if ('customHandler' in channelAuthorization &&\n        channelAuthorization['customHandler'] != null) {\n        return channelAuthorization['customHandler'];\n    }\n    return channel_authorizer(channelAuthorization);\n}\n\n// CONCATENATED MODULE: ./src/core/watchlist.ts\n\n\nclass watchlist_WatchlistFacade extends dispatcher_Dispatcher {\n    constructor(pusher) {\n        super(function (eventName, data) {\n            logger.debug(`No callbacks on watchlist events for ${eventName}`);\n        });\n        this.pusher = pusher;\n        this.bindWatchlistInternalEvent();\n    }\n    handleEvent(pusherEvent) {\n        pusherEvent.data.events.forEach((watchlistEvent) => {\n            this.emit(watchlistEvent.name, watchlistEvent);\n        });\n    }\n    bindWatchlistInternalEvent() {\n        this.pusher.connection.bind('message', (pusherEvent) => {\n            var eventName = pusherEvent.event;\n            if (eventName === 'pusher_internal:watchlist_events') {\n                this.handleEvent(pusherEvent);\n            }\n        });\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/utils/flat_promise.ts\nfunction flatPromise() {\n    let resolve, reject;\n    const promise = new Promise((res, rej) => {\n        resolve = res;\n        reject = rej;\n    });\n    return { promise, resolve, reject };\n}\n/* harmony default export */ var flat_promise = (flatPromise);\n\n// CONCATENATED MODULE: ./src/core/user.ts\n\n\n\n\n\nclass user_UserFacade extends dispatcher_Dispatcher {\n    constructor(pusher) {\n        super(function (eventName, data) {\n            logger.debug('No callbacks on user for ' + eventName);\n        });\n        this.signin_requested = false;\n        this.user_data = null;\n        this.serverToUserChannel = null;\n        this.signinDonePromise = null;\n        this._signinDoneResolve = null;\n        this._onAuthorize = (err, authData) => {\n            if (err) {\n                logger.warn(`Error during signin: ${err}`);\n                this._cleanup();\n                return;\n            }\n            this.pusher.send_event('pusher:signin', {\n                auth: authData.auth,\n                user_data: authData.user_data,\n            });\n        };\n        this.pusher = pusher;\n        this.pusher.connection.bind('state_change', ({ previous, current }) => {\n            if (previous !== 'connected' && current === 'connected') {\n                this._signin();\n            }\n            if (previous === 'connected' && current !== 'connected') {\n                this._cleanup();\n                this._newSigninPromiseIfNeeded();\n            }\n        });\n        this.watchlist = new watchlist_WatchlistFacade(pusher);\n        this.pusher.connection.bind('message', (event) => {\n            var eventName = event.event;\n            if (eventName === 'pusher:signin_success') {\n                this._onSigninSuccess(event.data);\n            }\n            if (this.serverToUserChannel &&\n                this.serverToUserChannel.name === event.channel) {\n                this.serverToUserChannel.handleEvent(event);\n            }\n        });\n    }\n    signin() {\n        if (this.signin_requested) {\n            return;\n        }\n        this.signin_requested = true;\n        this._signin();\n    }\n    _signin() {\n        if (!this.signin_requested) {\n            return;\n        }\n        this._newSigninPromiseIfNeeded();\n        if (this.pusher.connection.state !== 'connected') {\n            return;\n        }\n        this.pusher.config.userAuthenticator({\n            socketId: this.pusher.connection.socket_id,\n        }, this._onAuthorize);\n    }\n    _onSigninSuccess(data) {\n        try {\n            this.user_data = JSON.parse(data.user_data);\n        }\n        catch (e) {\n            logger.error(`Failed parsing user data after signin: ${data.user_data}`);\n            this._cleanup();\n            return;\n        }\n        if (typeof this.user_data.id !== 'string' || this.user_data.id === '') {\n            logger.error(`user_data doesn't contain an id. user_data: ${this.user_data}`);\n            this._cleanup();\n            return;\n        }\n        this._signinDoneResolve();\n        this._subscribeChannels();\n    }\n    _subscribeChannels() {\n        const ensure_subscribed = (channel) => {\n            if (channel.subscriptionPending && channel.subscriptionCancelled) {\n                channel.reinstateSubscription();\n            }\n            else if (!channel.subscriptionPending &&\n                this.pusher.connection.state === 'connected') {\n                channel.subscribe();\n            }\n        };\n        this.serverToUserChannel = new channel_Channel(`#server-to-user-${this.user_data.id}`, this.pusher);\n        this.serverToUserChannel.bind_global((eventName, data) => {\n            if (eventName.indexOf('pusher_internal:') === 0 ||\n                eventName.indexOf('pusher:') === 0) {\n                return;\n            }\n            this.emit(eventName, data);\n        });\n        ensure_subscribed(this.serverToUserChannel);\n    }\n    _cleanup() {\n        this.user_data = null;\n        if (this.serverToUserChannel) {\n            this.serverToUserChannel.unbind_all();\n            this.serverToUserChannel.disconnect();\n            this.serverToUserChannel = null;\n        }\n        if (this.signin_requested) {\n            this._signinDoneResolve();\n        }\n    }\n    _newSigninPromiseIfNeeded() {\n        if (!this.signin_requested) {\n            return;\n        }\n        if (this.signinDonePromise && !this.signinDonePromise.done) {\n            return;\n        }\n        const { promise, resolve, reject: _ } = flat_promise();\n        promise.done = false;\n        const setDone = () => {\n            promise.done = true;\n        };\n        promise.then(setDone).catch(setDone);\n        this.signinDonePromise = promise;\n        this._signinDoneResolve = resolve;\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/pusher.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass pusher_Pusher {\n    static ready() {\n        pusher_Pusher.isReady = true;\n        for (var i = 0, l = pusher_Pusher.instances.length; i < l; i++) {\n            pusher_Pusher.instances[i].connect();\n        }\n    }\n    static getClientFeatures() {\n        return keys(filterObject({ ws: runtime.Transports.ws }, function (t) {\n            return t.isSupported({});\n        }));\n    }\n    constructor(app_key, options) {\n        checkAppKey(app_key);\n        validateOptions(options);\n        this.key = app_key;\n        this.config = getConfig(options, this);\n        this.channels = factory.createChannels();\n        this.global_emitter = new dispatcher_Dispatcher();\n        this.sessionID = runtime.randomInt(1000000000);\n        this.timeline = new timeline_Timeline(this.key, this.sessionID, {\n            cluster: this.config.cluster,\n            features: pusher_Pusher.getClientFeatures(),\n            params: this.config.timelineParams || {},\n            limit: 50,\n            level: timeline_level.INFO,\n            version: defaults.VERSION,\n        });\n        if (this.config.enableStats) {\n            this.timelineSender = factory.createTimelineSender(this.timeline, {\n                host: this.config.statsHost,\n                path: '/timeline/v2/' + runtime.TimelineTransport.name,\n            });\n        }\n        var getStrategy = (options) => {\n            return runtime.getDefaultStrategy(this.config, options, strategy_builder_defineTransport);\n        };\n        this.connection = factory.createConnectionManager(this.key, {\n            getStrategy: getStrategy,\n            timeline: this.timeline,\n            activityTimeout: this.config.activityTimeout,\n            pongTimeout: this.config.pongTimeout,\n            unavailableTimeout: this.config.unavailableTimeout,\n            useTLS: Boolean(this.config.useTLS),\n        });\n        this.connection.bind('connected', () => {\n            this.subscribeAll();\n            if (this.timelineSender) {\n                this.timelineSender.send(this.connection.isUsingTLS());\n            }\n        });\n        this.connection.bind('message', (event) => {\n            var eventName = event.event;\n            var internal = eventName.indexOf('pusher_internal:') === 0;\n            if (event.channel) {\n                var channel = this.channel(event.channel);\n                if (channel) {\n                    channel.handleEvent(event);\n                }\n            }\n            if (!internal) {\n                this.global_emitter.emit(event.event, event.data);\n            }\n        });\n        this.connection.bind('connecting', () => {\n            this.channels.disconnect();\n        });\n        this.connection.bind('disconnected', () => {\n            this.channels.disconnect();\n        });\n        this.connection.bind('error', (err) => {\n            logger.warn(err);\n        });\n        pusher_Pusher.instances.push(this);\n        this.timeline.info({ instances: pusher_Pusher.instances.length });\n        this.user = new user_UserFacade(this);\n        if (pusher_Pusher.isReady) {\n            this.connect();\n        }\n    }\n    channel(name) {\n        return this.channels.find(name);\n    }\n    allChannels() {\n        return this.channels.all();\n    }\n    connect() {\n        this.connection.connect();\n        if (this.timelineSender) {\n            if (!this.timelineSenderTimer) {\n                var usingTLS = this.connection.isUsingTLS();\n                var timelineSender = this.timelineSender;\n                this.timelineSenderTimer = new timers_PeriodicTimer(60000, function () {\n                    timelineSender.send(usingTLS);\n                });\n            }\n        }\n    }\n    disconnect() {\n        this.connection.disconnect();\n        if (this.timelineSenderTimer) {\n            this.timelineSenderTimer.ensureAborted();\n            this.timelineSenderTimer = null;\n        }\n    }\n    bind(event_name, callback, context) {\n        this.global_emitter.bind(event_name, callback, context);\n        return this;\n    }\n    unbind(event_name, callback, context) {\n        this.global_emitter.unbind(event_name, callback, context);\n        return this;\n    }\n    bind_global(callback) {\n        this.global_emitter.bind_global(callback);\n        return this;\n    }\n    unbind_global(callback) {\n        this.global_emitter.unbind_global(callback);\n        return this;\n    }\n    unbind_all(callback) {\n        this.global_emitter.unbind_all();\n        return this;\n    }\n    subscribeAll() {\n        var channelName;\n        for (channelName in this.channels.channels) {\n            if (this.channels.channels.hasOwnProperty(channelName)) {\n                this.subscribe(channelName);\n            }\n        }\n    }\n    subscribe(channel_name) {\n        var channel = this.channels.add(channel_name, this);\n        if (channel.subscriptionPending && channel.subscriptionCancelled) {\n            channel.reinstateSubscription();\n        }\n        else if (!channel.subscriptionPending &&\n            this.connection.state === 'connected') {\n            channel.subscribe();\n        }\n        return channel;\n    }\n    unsubscribe(channel_name) {\n        var channel = this.channels.find(channel_name);\n        if (channel && channel.subscriptionPending) {\n            channel.cancelSubscription();\n        }\n        else {\n            channel = this.channels.remove(channel_name);\n            if (channel && channel.subscribed) {\n                channel.unsubscribe();\n            }\n        }\n    }\n    send_event(event_name, data, channel) {\n        return this.connection.send_event(event_name, data, channel);\n    }\n    shouldUseTLS() {\n        return this.config.useTLS;\n    }\n    signin() {\n        this.user.signin();\n    }\n}\npusher_Pusher.instances = [];\npusher_Pusher.isReady = false;\npusher_Pusher.logToConsole = false;\npusher_Pusher.Runtime = runtime;\npusher_Pusher.ScriptReceivers = runtime.ScriptReceivers;\npusher_Pusher.DependenciesReceivers = runtime.DependenciesReceivers;\npusher_Pusher.auth_callbacks = runtime.auth_callbacks;\n/* harmony default export */ var core_pusher = __webpack_exports__[\"default\"] = (pusher_Pusher);\nfunction checkAppKey(key) {\n    if (key === null || key === undefined) {\n        throw 'You must pass your app key when you instantiate Pusher.';\n    }\n}\nruntime.setup(pusher_Pusher);\n\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=pusher.js.map"],"x_google_ignoreList":[0],"mappings":"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"}